(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{Wc1E:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var s=o("mrSG"),i=(o("YFKU"),o("HbRj"),o("quTg"),o("r8Gw")),a={connecting:window.t("Connecting"),delayed:window.t("Delayed"),delayed_streaming:window.t("Delayed"),endofday:window.t("End of Day"),forbidden:window.t("Instrument is not allowed"),realtime:window.t("Real-time"),snapshot:window.t("Snapshot"),loading:"",replay:window.t("Replay Mode")},n={connecting:window.t("C",{context:"data_mode_connecting_letter"}),delayed:window.t("D",{context:"data_mode_delayed_letter"}),delayed_streaming:window.t("D",{context:"data_mode_delayed_streaming_letter"}),endofday:window.t("E",{context:"data_mode_end_of_day_letter"}),forbidden:window.t("F",{context:"data_mode_forbidden_letter"}),realtime:window.t("R",{context:"data_mode_realtime_letter"}),snapshot:window.t("S",{context:"data_mode_snapshot_letter"}),loading:"",replay:window.t("R",{context:"data_mode_replay_letter"})},d={streaming:"realtime"},l={classMap:{connecting:"tv-data-mode--connecting",delayed:"tv-data-mode--delayed",delayed_streaming:"tv-data-mode--delayed",endofday:"tv-data-mode--endofday",forbidden:"tv-data-mode--forbidden",realtime:"tv-data-mode--realtime",snapshot:"tv-data-mode--snapshot",loading:"tv-data-mode--loading",replay:"tv-data-mode--replay"},classSuffix:"",data:{values:{update_mode:"connecting"}},labelMap:a,modeInterval:600,short:!1,shortLabelMap:n,showTooltip:!0,tooltipType:"custom"},r=function(t){function e(e){var o=t.call(this,e)||this;return o._quoteSessionPrefix="data-mode-indicator",o._componentClass="tv-data-mode",o._init(e),o}return Object(s.__extends)(e,t),e.prototype.getLabel=function(){return!0===this._shortMode?this._shortLabelMap[this._value]||"":t.prototype.getLabel.call(this)},e.prototype.setMode=function(t,e){this.update({values:{update_mode:t,update_mode_seconds:e}})},e.prototype.hide=function(){this._el.classList.add("i-hidden")},e.prototype.show=function(){this._el.classList.remove("i-hidden")},e.prototype.getTooltipText=function(){var t="",e=this.getValue();if(""===e)return t;switch(e){case"delayed":t=window.t("Quotes are delayed by {0} min and updated every 30 seconds");break;case"delayed_streaming":t=window.t("Quotes are delayed by {0} min");break;default:t=this._labelMap[e]||t}return["delayed","delayed_streaming"].includes(e)&&(t=t.format(Math.round(this._modeInterval/60))),t},e.prototype._init=function(e){void 0===e&&(e={});var o=Object.assign({},l,e);this._modeInterval=o.modeInterval||600,this._shortLabelMap=o.shortLabelMap||n,t.prototype._init.call(this,o),this._render()},e.prototype._getValueFromData=function(t){var e;return e=void 0!==t.values&&void 0!==t.values.update_mode?t.values.update_mode:this.getValue(),d[e]||e},e.prototype._updateValue=function(e,o){void 0!==e.values&&void 0!==e.values.update_mode_seconds&&(this._modeInterval=e.values.update_mode_seconds),t.prototype._updateValue.call(this,e,o)},e}(i.a)},quTg:function(t,e,o){},r8Gw:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}))
;var s=o("txPx"),i=o("e3/o"),a=o("IWXC"),n=(o("+6II"),Object(s.getLogger)("GUI.Blocks.AbstractIndicator")),d=function(){function t(t){this._classSuffix="",this._quoteSessionPrefix="abstract-indicator",this._shortMode=!1,this._showTooltip=!0,this._subscribed=!1,this._tooltipType="custom",this._lastTooltipText="",this._quoteSession=t.quoteSession}return t.prototype.getValue=function(){return this._value},t.prototype.getTooltipText=function(){return this._labelMap[this._value]||""},t.prototype.getLabel=function(){return this._labelMap[this._value]||""},t.prototype.getElement=function(){return this._el},t.prototype.update=function(t,e){this._updateValue(t,e),this._render()},t.prototype.setTooltipEnabled=function(t){void 0===t&&(t=!1),this._showTooltip!==t&&(this._showTooltip=t,this._renderTooltip())},t.prototype.enableShortMode=function(){!0!==this._shortMode&&(this._shortMode=!0,this._render())},t.prototype.disableShortMode=function(){!1!==this._shortMode&&(this._shortMode=!1,this._render())},t.prototype.isShortModeEnabled=function(){return this._shortMode},t.prototype.start=function(){!this._subscribed&&this._symbolName&&(this._quoteSession||(this._quoteSession=Object(a.getQuoteSessionInstance)("simple")),this._quoteSession.subscribe(this._getQuoteSessionId(),this._symbolName,this.update.bind(this)),this._subscribed=!0)},t.prototype.stop=function(){this._subscribed&&this._quoteSession&&this._symbolName&&(this._quoteSession.unsubscribe(this._getQuoteSessionId(),this._symbolName),this._subscribed=!1)},t.prototype._init=function(t){this._el=t.el?t.el:document.createElement("span"),this._el.innerHTML="",this._classMap=t.classMap,this._labelMap=t.labelMap,this._showTooltip=t.showTooltip,this._classSuffix=t.classSuffix,this._symbolName=t.symbol,t.tooltipType&&(this._tooltipType=t.tooltipType),this._quoteSessionGUID=Object(i.guid)(),!0===t.short&&this.enableShortMode(),t.data&&this._updateValue(t.data)},t.prototype._clearClasses=function(){var t=this;Object.values(this._classMap).map((function(e){t._el.classList.remove(""+e),t._el.classList.remove(""+e+t._classSuffix)}))},t.prototype._render=function(){this._renderClasses(),this._renderTooltip(),this._renderLabel()},t.prototype._renderLabel=function(){this._el.textContent=this.getLabel()},t.prototype._updateValue=function(t,e){var o=this._getValueFromData(t);(e||o!==this._value)&&(this._value=o)},t.prototype._renderClasses=function(){var t=this._el.classList;t.add(this._componentClass,this._componentClass+this._classSuffix);var e=this._classMap[this._value];for(var o in this._classMap){var s=this._classMap[o];s&&(s===e?t.add(s,s+this._classSuffix):t.remove(s,s+this._classSuffix))}!e&&this._value&&n.logWarn("no className for status "+this._value)},t.prototype._renderTooltip=function(){var t=this._showTooltip?this.getTooltipText():"";t!==this._lastTooltipText&&(this._lastTooltipText=t,this._el.setAttribute("title",t),"custom"===this._tooltipType&&this._el.classList.toggle("apply-common-tooltip",this._showTooltip))},t.prototype._getQuoteSessionId=function(){
return this._quoteSessionPrefix+"."+this._quoteSessionGUID},t}();window.AbstractIndicator=d}}]);