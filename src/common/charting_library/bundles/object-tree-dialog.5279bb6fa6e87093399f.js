(window.webpackJsonp=window.webpackJsonp||[]).push([["object-tree-dialog"],{"4/GM":function(e,t,o){e.exports={dialog:"dialog-2ABJPLy0",button:"button-1OlZqHnS"}},b4AZ:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var n=o("mrSG"),i=o("q1tI"),a=o("Iivm"),r=o("zM7N"),s=o("oiZD"),l=o("YFKU"),c=o("CW80"),d=o("gM3K"),h=o("leHx"),u=o("rlH3"),m=o("x5pF"),p=function(e){function t(t){var o=e.call(this,t)||this;return o._totalCount=0,o._model=null,o._symbolDrawingsMap=null,o._onItemClick=function(e){o.props.chartWidget.setSymbol(e),null!==o._model&&o.setState({currentSymbol:e}),o.props.onClose&&o.props.onClose()},o._onRemove=function(e){if(o._model&&o._symbolDrawingsMap){var t=Object(l.t)("Remove all line tools for ")+e,n=o._symbolDrawingsMap.get(e);n&&(o._model.removeSources(n,!1,t),o._updateItems())}},o._updateItems=function(){null!==o._model&&(o._totalCount=0,o.setState({items:o._getItems(o._model.model().dataSources())}))},o._updateTheme=function(){var e=s.watchedTheme.value();o.setState({theme:e})},o.state={currentSymbol:null,items:null,theme:s.watchedTheme.value()},o}return Object(n.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.chartWidget.withModel(this,(function(){e._model=e.props.chartWidget.model(),e._model.model().dataSourceCollectionChanged().subscribe(e,e._updateItems),e.setState({currentSymbol:e._model.mainSeries().symbol(),items:e._getItems(e._model.model().dataSources())},(function(){var t,o;return null===(o=(t=e.props).onInitialized)||void 0===o?void 0:o.call(t)}))})),s.watchedTheme.subscribe(this._updateTheme)},t.prototype.componentWillUnmount=function(){s.watchedTheme.unsubscribe(this._updateTheme),null!==this._model&&this._model.model().dataSourceCollectionChanged().unsubscribe(this,this._updateItems)},t.prototype.render=function(){var e=this,t=this.props.isMobile,o=this.state,n=o.currentSymbol,s=o.items,c=o.theme===r.a.Dark?u:h,p=(this._symbolDrawingsMap?this._symbolDrawingsMap.size:0)+" symbol(s) with "+this._totalCount+" drawing(s)";return i.createElement(i.Fragment,null,i.createElement("div",{className:m.title},p),null===s||0===s.length?i.createElement("div",{className:m.empty},i.createElement(a.Icon,{className:m.image,icon:c}),i.createElement("span",null,"No drawings yet")):s.map((function(o){return i.createElement(d.a,{key:o.symbol,title:o.symbol,subtitle:o.drawingsCount+" drawings",removeBtnLabel:Object(l.t)("Remove all drawings for this symbol"),isActive:o.symbol===n,isMobile:t,onClick:e._onItemClick.bind(e,o.symbol),onClickRemove:e._onRemove.bind(e,o.symbol),showFavorite:!1})})))},t.prototype._getItems=function(e){var t=this,o=[];return this._symbolDrawingsMap=this._getSymbolDrawingsMap(e),this._symbolDrawingsMap.forEach((function(e,n){o.push({symbol:n,drawingsCount:e.length}),t._totalCount=t._totalCount+e.length})),o.sort((function(e,t){return e.drawingsCount<t.drawingsCount?1:-1}))},t.prototype._getSymbolDrawingsMap=function(e){var t=new Map;return e.forEach((function(e){if(Object(c.isLineTool)(e)&&e.showInObjectTree()){var o=t.get(e.symbol())
;o?(o.push(e),t.set(e.symbol(),o)):t.set(e.symbol(),[e])}})),t},t}(i.PureComponent)},leHx:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-10 -10 120 120" width="120" height="120" fill="none"><g clip-path="url(#avi4cgf11)"><path fill="#F0F3FA" d="M16.01 71.1c10.54 13.42 34.92 11.86 54.46-3.48s26.85-38.65 16.3-52.08C76.25 2.12 51.87 3.68 32.33 19.02c-9.2 7.22-15.68 16.2-18.87 25.09-.68 1.88-2.57 3.05-4.53 3.48a9.7 9.7 0 0 0-3.96 1.85C.5 52.94-.09 59.64 3.64 64.4a11.24 11.24 0 0 0 7.82 4.31 6.2 6.2 0 0 1 4.55 2.4z"/><path fill="url(#bvi4cgf11)" d="M28.3 35.56c1.8 3.42 12.08 10.65 25.62 16.88 6.36 2.93 12.38 5.3 17.37 6.93a172.7 172.7 0 0 0-18-12.68c-14.59-9.1-24.97-12.4-24.97-12.4-.18.3-.19.72-.01 1.27z"/><path stroke="#1E222D" stroke-width="1.5" d="M86.25 71.4c-.19.28-.54.53-1.17.69-.63.15-1.48.19-2.56.08-2.14-.22-5-1-8.4-2.28-6.78-2.57-15.53-7.13-24.64-13.06-9.12-5.93-16.82-12.1-21.92-17.25-2.55-2.59-4.41-4.89-5.48-6.76a7.79 7.79 0 0 1-.96-2.37c-.12-.64-.03-1.06.16-1.35.2-.3.54-.55 1.17-.7a7.8 7.8 0 0 1 2.56-.08c2.14.22 5 1 8.4 2.28 6.78 2.57 15.53 7.12 24.65 13.06 9.1 5.93 16.81 12.1 21.9 17.25 2.56 2.58 4.43 4.89 5.5 6.76.53.94.84 1.73.95 2.37.12.64.03 1.06-.16 1.35z"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="1.5" d="M28.96 34.63c1.99.57 4.47 1.55 7.3 2.86l12.2 6.52a193.2 193.2 0 0 1 6.66 4.15c10.56 6.88 19.12 13.86 22.97 18.45"/><path stroke="#1E222D" stroke-width="1.5" d="M83.79 65.59c6.77-14.14 1.41-32-13.05-41.42-14.46-9.41-32.96-7.09-43.15 4.83M74.96 21.24a6.08 6.08 0 0 1-2.58 2.3c-.9.39-1.69.35-2.23 0-.54-.36-.9-1.05-.9-2.04a6.08 6.08 0 0 1 1.05-3.29 6.07 6.07 0 0 1 2.58-2.29c.9-.4 1.69-.35 2.23 0s.9 1.05.9 2.04c.01.98-.32 2.17-1.05 3.28z"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="1.5" d="M42.7 23.62c1.25-.3 4.56-1.3 8.92-1.3M80.14 84.07C76.5 84.03 64.4 84 50 84s-26.5.03-30.14.07M24.7 59.33l5.77 5.32M32.05 56.05l.84 3.28"/></g><defs><linearGradient gradientUnits="userSpaceOnUse" x1="49.73" x2="49.73" y1="34.29" y2="59.37" id="bvi4cgf11"><stop stop-color="#2196F3"/><stop offset="1" stop-color="#2196F3"/></linearGradient><clipPath id="avi4cgf11"><path fill="#fff" d="M0 0h100v100H0V0z"/></clipPath></defs></svg>'},rlH3:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-10 -10 120 120" width="120" height="120" fill="none"><g clip-path="url(#a00y35lj1)"><path fill="#2A2E39" d="M16.01 71.1c10.54 13.42 34.92 11.86 54.46-3.48s26.85-38.65 16.3-52.08C76.25 2.12 51.87 3.68 32.33 19.02c-9.2 7.22-15.68 16.2-18.87 25.09-.68 1.88-2.57 3.05-4.53 3.48a9.7 9.7 0 0 0-3.96 1.85C.5 52.94-.09 59.64 3.64 64.4a11.24 11.24 0 0 0 7.82 4.31 6.2 6.2 0 0 1 4.55 2.4z"/><path fill="#1976D2" d="M28.3 35.56c1.8 3.42 12.08 10.65 25.62 16.88 6.36 2.93 12.38 5.3 17.37 6.93a172.7 172.7 0 0 0-18-12.68c-14.59-9.1-24.97-12.4-24.97-12.4-.18.3-.19.72-.01 1.27z"/><path stroke="#B2B5BE" stroke-width="1.5" d="M86.25 71.4c-.19.28-.54.53-1.17.69-.63.15-1.48.19-2.56.08-2.14-.22-5-1-8.4-2.28-6.78-2.57-15.53-7.13-24.64-13.06-9.12-5.93-16.82-12.1-21.92-17.25-2.55-2.59-4.41-4.89-5.48-6.76a7.79 7.79 0 0 1-.96-2.37c-.12-.64-.03-1.06.16-1.35.2-.3.54-.55 1.17-.7a7.8 7.8 0 0 1 2.56-.08c2.14.22 5 1 8.4 2.28 6.78 2.57 15.53 7.12 24.65 13.06 9.1 5.93 16.81 12.1 21.9 17.25 2.56 2.58 4.43 4.89 5.5 6.76.53.94.84 1.73.95 2.37.12.64.03 1.06-.16 1.35z"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="1.5" d="M28.96 34.63c1.99.57 4.47 1.55 7.3 2.86l12.2 6.52a193.2 193.2 0 0 1 6.66 4.15c10.56 6.88 19.12 13.86 22.97 18.45"/><path stroke="#B2B5BE" stroke-width="1.5" d="M83.79 65.59c6.77-14.14 1.41-32-13.05-41.42-14.46-9.41-32.96-7.09-43.15 4.83M74.96 21.24a6.08 6.08 0 0 1-2.58 2.3c-.9.39-1.69.35-2.23 0-.54-.36-.9-1.05-.9-2.04a6.08 6.08 0 0 1 1.05-3.29 6.07 6.07 0 0 1 2.58-2.29c.9-.4 1.69-.35 2.23 0s.9 1.05.9 2.04c.01.98-.32 2.17-1.05 3.28z"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="1.5" d="M42.7 23.62c1.25-.3 4.56-1.3 8.92-1.3M80.14 84.07C76.5 84.03 64.4 84 50 84s-26.5.03-30.14.07M24.7 59.33l5.77 5.32M32.05 56.05l.84 3.28"/></g><defs><clipPath id="a00y35lj1"><path fill="#fff" d="M0 0h100v100H0V0z"/></clipPath></defs></svg>'},x5pF:function(e,t,o){e.exports={title:"title-3Lzr69Wm",empty:"empty-1E2eAl4j",image:"image-28q3VpEP",contentList:"contentList-187Q-Fou"}},xNz2:function(e,t,o){"use strict";o.r(t);var n=o("q1tI"),i=o.n(n),a=o("i8i4"),r=o("ihdJ"),s=o("mrSG"),l=o("Sn4D"),c=o("mkWe"),d=o("/KDZ"),h=o("YFKU"),u=o("g89m"),m=o("uhCe"),p=o("b4AZ");var w=o("uIX/"),f=o("p17a"),_=o("ndO8"),g=o("4/GM"),b=function(e){function t(t){var o=e.call(this,t)||this;return o._isMounted=!1,o._dialogRef=i.a.createRef(),o._renderChildren=function(e){return i.a.createElement(v,{isSmallTablet:e,viewModel:o.props.viewModel})},o._handleMediaChange=function(){o.state.showDrawer&&!window.matchMedia(m.a.TabletSmall).matches&&o.setState({showDrawer:!1})},o._onManageDrawings=function(e){throw new Error("not supported")},o._closeDrawer=function(){o.setState({showDrawer:!1})},o._matchMedia=window.matchMedia(m.a.TabletSmall),o.state={showDrawer:!1,showDialog:!1},o}return Object(s.__extends)(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._matchMedia.addListener(this._handleMediaChange)},t.prototype.componentWillUnmount=function(){this._isMounted=!1,
this._matchMedia.removeListener(this._handleMediaChange)},t.prototype.render=function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{rule:m.a.TabletSmall},(function(t){return i.a.createElement(u.a,{additionalElementPos:"after",additionalHeaderElement:!1,className:g.dialog,dataName:"object-tree-dialog",isOpened:!0,onClickOutside:e.state.showDialog||t?function(){}:e.props.onClose,onClose:e.props.onClose,ref:e._dialogRef,render:function(){return e._renderChildren(t)},title:Object(h.t)("Object tree"),showSeparator:!0})})),i.a.createElement(c.b,null,this.state.showDrawer&&i.a.createElement(l.a,{onClose:this._closeDrawer,position:"Bottom"},i.a.createElement(p.a,{onClose:this._closeDrawer,chartWidget:this.props.activeChartWidget,isMobile:!0}))))},t}(i.a.PureComponent);function v(e){var t=e.isSmallTablet,o=e.viewModel,a=Object(n.useMemo)((function(){return{size:t?1:0,smallSizeTreeNodeAction:0}}),[t]);return i.a.createElement(_.a.Provider,{value:a},i.a.createElement(w.ObjectTree,{nodeRenderer:f.NodeRenderer,showHeader:!1,viewModel:o,isDialog:!0}))}var M=o("eqEH"),C=o("vPbs"),y=o("jaf/");o.d(t,"ObjectTreeDialogRenderer",(function(){return E}));var E=function(){function e(){var e=this;this._container=document.createElement("div"),this._isVisible=!1,this._handleClose=function(){a.unmountComponentAtNode(e._container),e._isVisible=!1,null!==e._viewModel&&(e._viewModel.destroy(),e._viewModel=null)};var t=Object(M.service)(C.CHART_WIDGET_COLLECTION_SERVICE);this._activeChartWidget=t.activeChartWidget.value(),this._viewModel=new y.ObjectTree(t.activeChartWidget)}return e.prototype.hide=function(){this._handleClose()},e.prototype.isVisible=function(){return this._isVisible},e.prototype.show=function(){var e=this;Object(r.b)().then((function(){null!==e._viewModel&&(a.render(n.createElement(b,{onClose:e._handleClose,viewModel:e._viewModel,activeChartWidget:e._activeChartWidget}),e._container),e._isVisible=!0)}))},e}()}}]);