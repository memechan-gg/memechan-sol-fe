(window.webpackJsonp=window.webpackJsonp||[]).push([["order-widget"],{"+l/S":function(e,t,n){},"0oEL":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path fill="none" stroke="currentColor" stroke-width="2" d="M17.09 6.5A7.5 7.5 0 1 0 11.5 19a7.481 7.481 0 0 0 5.59-2.5"/></svg>'},"2A9e":function(e){e.exports=JSON.parse('{"button":"button-1iktpaT1","content":"content-2PGssb8d","noOutline":"noOutline-d9Yp4qvi","appearance-default":"appearance-default-dMjF_2Hu","intent-primary":"intent-primary-1-IOYcbg","intent-success":"intent-success-25a4XZXM","intent-default":"intent-default-2ZbSqQDs","intent-warning":"intent-warning-24j5HMi0","intent-danger":"intent-danger-1EETHCla","appearance-stroke":"appearance-stroke-12lxiUSM","appearance-text":"appearance-text-DqKJVT3U","appearance-inverse":"appearance-inverse-r1Y2JQg_","size-s":"size-s-3mait84m","size-m":"size-m-2G7L7Qat","size-l":"size-l-2NEs9_xt","size-p":"size-p-3D4rn3v0","full-width":"full-width-1wU8ljjC","with-icon":"with-icon-yumghDr-","icon":"icon-1grlgNdV"}')},"2n7d":function(e,t,n){e.exports={"css-value-calculator-width":"150px"}},"3nsW":function(e,t,n){e.exports={priceLabel:"priceLabel-3jS0eXPb",ask:"ask-3tWHb9Qr",bid:"bid-2R0XOtR5",last:"last-2kdG2nOc"}},"48L3":function(e,t,n){e.exports={menuBox:"menuBox-mKIu9j0Z"}},"4vL2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getButtonClasses=void 0;var r=n("TSYQ");t.getButtonClasses=function(e,t){var n=t.intent,o=void 0===n?"primary":n,i=t.size,s=void 0===i?"m":i,a=t.appearance,c=void 0===a?"default":a,l=t.useFullWidth,u=void 0!==l&&l,p=t.tabIndex,d=void 0===p?0:p,h=t.icon,m=t.className;return r(m,e.button,e["size-"+s],e["intent-"+o],e["appearance-"+c],u&&e["full-width"],-1===d&&e.noOutline,h&&"s"!==s&&e["with-icon"])}},"5o6O":function(e,t,n){e.exports={tabs:"tabs-1LGqoVz6",tab:"tab-1Yr0rq0J",noBorder:"noBorder-oc3HwerO",disabled:"disabled-s8cEYElA",active:"active-37sipdzm",defaultCursor:"defaultCursor-Np9BHjTg",slider:"slider-1-X4lOmE",content:"content-2asssfGq"}},"9E2J":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path fill="currentColor" stroke="none" d="M2 10h18v2H2z"/></svg>'},EVs3:function(e,t,n){e.exports={controlGroup:"controlGroup-3MCLpRRP",title:"title-365S0Izg",controlContainer:"controlContainer-3DnBop47",control:"control-1SRwj2tN",input:"input-bK62wa20",relativePriceControl:"relativePriceControl-3Ox4_bWI",absolutePriceControl:"absolutePriceControl-3oXHJ40Q",singlePriceControl:"singlePriceControl-1Ao64chO",highlightedInactive:"highlightedInactive-2CCacdNp",wait:"wait-fWyqvk-K"}},Gg3R:function(e,t,n){e.exports={absolutePriceDropdownItem:"absolutePriceDropdownItem-3AJk0DlG",price:"price-2DRmXbiJ",labelsGroup:"labelsGroup-1vMW9cm7"}},H3n3:function(e,t,n){e.exports={dialog:"dialog-1Xlkjw62",dialogBody:"dialogBody-OvSZI6fI"}},IkHa:function(e,t,n){"use strict";n.r(t);var r=n("mrSG"),o=n("q1tI"),i=n.n(o),s=n("i8i4"),a=(n("YFKU"),
n("TSYQ")),c=n("Vdly"),l=n("Kxc7"),u=n("8wgr"),p=n("txPx"),d=n("qFKp"),h=n("oykh"),m=n("en3B"),f=n("pKbH"),v=window.t("Sell"),b=window.t("Buy"),_=window.t("No Data"),g=function(e){function t(t){var n=e.call(this,t)||this;return n._isLongValue=!1,n._maxDigitsNumber=7,n._createClickHandler=function(e){return function(){return n.props.onSideChanged(e)}},n._isLongValue=Boolean(n.props.quotes.spread&&n.props.quotes.spread.toString().length>n._maxDigitsNumber||n.props.quotes.ask&&n.props.quotes.ask.toString().length>n._maxDigitsNumber),n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=a(f.sideControl,[m.h.Editing,m.h.Preview].includes(this.props.status)&&f.disable,this.props.status===m.h.Wait&&f.wait),t=a(f.section,f.sell,this.props.status!==m.h.Wait&&-1===this.props.side&&f.active),n=a(f.section,f.buy,this.props.status!==m.h.Wait&&1===this.props.side&&f.active),r=this.props.quotes.bid?o.createElement("div",null,this.props.quotes.bid):o.createElement("div",{className:f.valueNoData},_),i=this.props.quotes.ask?o.createElement("div",null,this.props.quotes.ask):o.createElement("div",{className:f.valueNoData},_);return o.createElement("div",{className:e},o.createElement("div",{className:t,onClick:this._createClickHandler(-1),tabIndex:-1},o.createElement("div",{className:f.title},o.createElement("span",{className:this.props.currencyForCrypto&&f.typeSide},v),this.props.currencyForCrypto&&o.createElement("span",null,this.props.currencyForCrypto)),o.createElement("div",{className:f.value},r)),o.createElement("div",{className:n,onClick:this._createClickHandler(1),tabIndex:-1},o.createElement("div",{className:f.title},o.createElement("span",{className:this.props.currencyForCrypto&&f.typeSide},b),this.props.currencyForCrypto&&o.createElement("span",{className:f.typeSide},this.props.currencyForCrypto)),o.createElement("div",{className:f.value},i)),this.props.quotes.spread&&o.createElement("div",{className:a(f.spread,this._isLongValue&&f.isLongValue)},this.props.quotes.spread))},t}(o.PureComponent),y=function(e){function t(t){var n=e.call(this,t)||this;return n._onSideChanged=function(e){n.props.disabled||(n.props.model.side.setValue(e),n.props.model.onControlFocused.fire())},n._callback=function(){return n.forceUpdate()},n._statusCallback=function(e){e!==m.h.Preview&&n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this._subscribeToModel(this.props.model)},t.prototype.componentWillUnmount=function(){this._unsubscribeFromModel(this.props.model)},t.prototype.render=function(){var e=this.props.model;return o.createElement(g,{quotes:e.quotes.value(),side:e.side.value(),status:e.status.value(),onSideChanged:this._onSideChanged,currencyForCrypto:e.baseCurrency})},t.prototype._subscribeToModel=function(e){e.quotes.subscribe(this._callback),e.side.subscribe(this._callback),e.status.subscribe(this._statusCallback)},t.prototype._unsubscribeFromModel=function(e){e.quotes.unsubscribe(this._callback),e.side.unsubscribe(this._callback),e.status.unsubscribe(this._statusCallback)},t
}(o.PureComponent),C=n("mwqF"),w=n("/qCs"),k=n("gla1"),E=n("Eyy1"),O=n("L2Pi"),P={cancel:window.t("Cancel"),sendOrder:window.t("Send Order")};function M(e){var t=Object(o.useRef)(null),n=Object(k.a)();Object(o.useEffect)((function(){var r=function(){return n()};return Object(E.ensureNotNull)(t.current).focus(),e.loading.subscribe(r),e.model.textQuotesOutputs().subscribe(r),function(){e.loading.unsubscribe(r),e.model.textQuotesOutputs().unsubscribe(r)}}));var r=i.a.createElement(w.a,{textOutputs:e.model.textQuotesOutputs().value()}),s=i.a.createElement(w.a,{textOutputs:e.model.textInfoOutputs()}),a=i.a.createElement(w.a,{textOutputs:e.model.textOrderOutputs()});return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:O.content},r,i.a.createElement("div",{className:O.separator}),a,i.a.createElement("div",{className:O.separator}),s,e.model.warning&&i.a.createElement("div",{className:O.warning},e.model.warning)),i.a.createElement("div",{className:O.controls},i.a.createElement("div",{className:O.button},i.a.createElement(C.Button,{useFullWidth:!0,size:"l",intent:"default",appearance:"stroke",onClick:e.model.onCancelClick},P.cancel)),i.a.createElement("div",{className:O.button},i.a.createElement(C.Button,{useFullWidth:!0,size:"l",intent:-1===e.side?"danger":"primary",onClick:e.model.onPlaceClick,reference:t,disabled:e.loading.value()},P.sendOrder))))}var S=n("K3s3"),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._createClickHandler=function(e){return function(){t.props.disabled||t.props.onSelect(e)}},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this._generateTabs();return o.createElement("div",null,o.createElement(S.c,null,e),o.createElement("div",null,this.props.children[this.props.activeTab||0]))},t.prototype._generateTabs=function(){var e=this,t=this.props,n=t.activeTab,r=t.disabled;return o.Children.map(this.props.children,(function(t,i){var s=void 0!==t.props.id?t.props.id:i;return o.createElement(S.b,{isActive:n===s,isDisabled:r,shouldUseDefaultCursor:!!e.props.shouldUseDefaultCursor,noBorder:!!e.props.noBorder,onClick:e._createClickHandler(s)},t.props.title)}))},t}(o.PureComponent);function T(e){return o.createElement("div",null,e.children)}var x=n("TZdo"),D=window.t("Market"),B=window.t("Limit"),I=window.t("Stop"),F=window.t("Stop Limit"),W=function(e){function t(t){var n=e.call(this,t)||this;return n._callback=function(){return n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.context.resizerWidth&&this.context.resizerWidth.subscribe(this._callback)},t.prototype.componentWillUnmount=function(){this.context.resizerWidth&&this.context.resizerWidth.unsubscribe(this._callback)},t.prototype.render=function(){var e=[];this.props.supportMarketOrders&&e.push(o.createElement(T,{key:2,title:D,id:2})),this.props.supportLimitOrders&&e.push(o.createElement(T,{key:1,title:B,id:1})),this.props.supportStopOrders&&e.push(o.createElement(T,{key:3,title:I,id:3})),
this.props.supportStopLimitOrders&&e.push(o.createElement(T,{key:4,title:F,id:4}));var t=a(x.tabsContainer,this.context.mode===m.g.Panel&&e.length>3&&x.moreThen3Types);return o.createElement(o.Fragment,null,o.createElement("div",{className:t,tabIndex:-1},o.createElement(N,{activeTab:this.props.activeTab,shouldUseDefaultCursor:!0,onSelect:this.props.onSelect,disabled:this.props.disabled,noBorder:!0},e)),o.createElement("div",{className:x.separator}))},t.contextType=m.f,t}(o.PureComponent),j=n("k/ZQ"),R=n("xx2B"),H=(n("EsMY"),n("Iivm")),V=n("RgaO"),z=n("h6kW"),L=n("X6/E"),A=n("V1pJ"),U=n("2n7d"),q=parseInt(U["css-value-calculator-width"]),K=function(e){function t(t){var n=e.call(this,t)||this;return n._control=null,n._input=null,n._calc=null,n._getCurrentValue=function(){return n.props.value||0},n._getDropdownPosition=function(){if(null===n._control)return{x:0,y:0};var e=n._control.getBoundingClientRect();return{x:e.left+e.width-q,y:e.bottom+2}},n._onFocus=function(e){var t=Object(E.ensureNotNull)(n._calc);!Modernizr.mobiletouch&&t.contains(e.target)&&Object(E.ensureNotNull)(n._input).focus()},n._setRef=function(e){n._control=e},n._setCalcRef=function(e){n._calc=e},n._setInputRef=function(e){n._input=e},n._onKeyDown=function(e){!n.state.isOpened||13!==e.keyCode&&27!==e.keyCode||(e.stopPropagation(),n.setState({isOpened:!1})),Object.values(m.d).includes(e.keyCode)||Object.values(m.e).includes(e.keyCode)||n.setState({isOpened:!1}),n.props.onKeyDown&&n.props.onKeyDown(e)},n._onClickOutside=function(e){n._calc&&!n._calc.contains(e.target)&&n.setState({isOpened:!1})},n._updateValue=function(e){n.props.onValueChange(e)},n._toggle=function(){n.setState((function(e){return{isOpened:!e.isOpened}}))},n._setInputFocus=function(e){null!==e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},n.state={isOpened:!1},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){5===this.props.focus&&this._setInputFocus(this._input)},t.prototype.render=function(){var e=this,t=this.props,n=t.step,i=t.error,s=t.errorMessage,c=t.className,l=t.errorHandler,u=Object(r.__rest)(t,["step","error","errorMessage","className","errorHandler"]),p=o.createElement(H.Icon,{icon:L,className:a(A.calculatorIcon,this.state.isOpened&&A.isOpened),onClick:this._toggle});return o.createElement("div",{className:A.wrapper},o.createElement(V.a,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onClickOutside},(function(t){return o.createElement("span",{ref:t},o.createElement(R.a,{value:e.props.value||0,alwaysUpdateValueFromProps:e.state.isOpened,formatter:e.props.formatter,className:c,containerReference:e._setRef,inputReference:e._setInputRef,button:p,onValueChange:e._updateValue,onFocus:e.props.onFocus,onBlur:e.props.onBlur,onKeyDown:e._onKeyDown,error:i,errorMessage:s,errorHandler:l,step:n,controlDecKeyCodes:e.state.isOpened?[m.d.Minus,m.d.NumMinus,m.d.FirefoxMinus]:void 0,controlIncKeyCodes:e.state.isOpened?[m.e.Plus,m.e.NumPlus,m.e.FirefoxPlus]:void 0}),e.state.isOpened&&o.createElement(z.a,Object(r.__assign)({},u,{step:n,
valueGetter:e._getCurrentValue,position:e._getDropdownPosition(),targetEl:e._control,calcReference:e._setCalcRef,onClose:e._toggle,onFocus:e._onFocus,trackEventTarget:"Order Ticket"})))})))},t}(o.PureComponent),G=function(e){function t(t){var n=e.call(this,t)||this;return n._defaultMax=9e15,n._onFocus=function(){n.props.onFocus&&n.props.onFocus(n.props.type)},n._onValueChange=function(e){n.props.control.value.setValue(e),n.props.control.onModifiedCallback()},n._callback=function(){return n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.control.value.subscribe(this._callback)},t.prototype.componentWillUnmount=function(){this.props.control.value.unsubscribe(this._callback)},t.prototype.render=function(){var e=this.props,t=e.control,n=e.focus,i=e.min,s=e.max,c=e.step,l=e.type,u=e.error,p=e.errorMessage,d=e.errorHandler,h=e.label,f=e.formatter,v=e.className,b=e.inputClassName,_=e.status,g=e.trackEvent,y={value:t.value.value()||0,step:c,className:a(A.input,_===m.h.Wait&&A.wait,b),error:u,errorMessage:p,errorHandler:d,onFocus:this._onFocus,formatter:f,onValueChange:this._onValueChange,calculatorUsedStat:function(){return t.calculatorUsedStat()}},C=0===l?o.createElement(K,Object(r.__assign)({},y,{focus:n,min:i||c,max:s||this._defaultMax,trackEvent:g})):o.createElement("div",{className:A.riskControlWrapper},o.createElement(R.a,Object(r.__assign)({},y,{step:.01})));return o.createElement("div",{className:a(v,A.control)},C,h&&o.createElement("div",{className:A.label}," ",h," "))},t}(o.PureComponent),Y=n("NbG7"),Q=window.t("Risk"),J=window.t("Units"),X=window.t("Lots"),Z=function(e){function t(t){var n=e.call(this,t)||this;return n._onFocus=function(e){n.props.model.focusedControl.setValue(e),n.props.model.onControlFocused.fire()},n._errorHandler=function(e){n.props.model.setControlError(e)},n._callback=function(){return n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this._subscribeToModel(this.props.model)},t.prototype.componentWillUnmount=function(){this._unsubscribeFromModel(this.props.model)},t.prototype.render=function(){var e=this.context.value,t=this.props,n=t.model,i=t.symbolHasLotSize,s=t.trackEvent,c=t.focus,l=n.error.value(),u={errorHandler:this._errorHandler,error:l,status:n.status.value(),onFocus:this._onFocus,trackEvent:s},p=Boolean(l&&l.res),d=l&&l.msg,h=n.isRiskAvailable.value()&&(e.showPercentRiskInQty||e.showCurrencyRiskInQty),m=a(!h&&A.single,A.units);return o.createElement(o.Fragment,null,o.createElement(G,Object(r.__assign)({},u,{control:n.quantity,min:n.qty.min,max:n.qty.max,step:n.qty.step,type:0,formatter:n.formatter,label:i?X:J,className:m,focus:c,inputClassName:this._generateClassName(0),error:p&&this._isSelectedControl(0),errorMessage:d})),h&&o.createElement("div",{className:A.risk},e.showCurrencyRiskInQty&&o.createElement(G,Object(r.__assign)({},u,{control:n.riskInCurrency,step:n.riskStep,type:1,formatter:n.riskInCurrencyFormatter,label:n.currency+" "+Q,error:p&&this._isSelectedControl(1),
errorMessage:d,inputClassName:this._generateClassName(1)})),e.showPercentRiskInQty&&o.createElement(G,Object(r.__assign)({},u,{control:n.riskInPercent,step:n.riskStep,type:2,formatter:n.riskInPercentFormatter,label:"% "+Q,error:p&&this._isSelectedControl(2),errorMessage:d,inputClassName:this._generateClassName(2)}))))},t.prototype._generateClassName=function(e){var t=this.props.model.isRiskAvailable.value()&&this._isSelectedControl(e),n=this.props.model.error.value(),r=(0===e?t:this._isSelectedControl(e))&&(this.context.value.showCurrencyRiskInQty||this.context.value.showPercentRiskInQty),o=Boolean(n&&n.res)&&this._isSelectedControl(e);return a(o&&A.error,r&&A.highlightedInactive)},t.prototype._isSelectedControl=function(e){return this.props.model.status.value()!==m.h.Wait&&this.props.model.focusedControl.value()===e},t.prototype._subscribeToModel=function(e){e.focusedControl.subscribe(this._callback),e.isRiskAvailable.subscribe(this._callback),e.error.subscribe(this._callback)},t.prototype._unsubscribeFromModel=function(e){e.focusedControl.unsubscribe(this._callback),e.isRiskAvailable.unsubscribe(this._callback),e.error.unsubscribe(this._callback)},t.contextType=Y.a,t}(o.PureComponent),$=n("QAe6"),ee=n("vqb8"),te=n("9dlw"),ne=n("/3z9"),re=n("N5tr"),oe=n("iZFA"),ie=n("eGEP"),se=[1,5,10,25,50,75,100];function ae(e){var t,n,r=Object(o.useRef)(null),s=Object($.a)(e.value),c=s[0],l=s[1],u=Object($.a)(e.focusedControl),p=u[0],d=u[1],h=Object(o.useState)(!1),f=h[0],v=h[1],b=Object(o.useState)(0),_=b[0],g=b[1],y=Object(ee.a)({watchedValue:e.error}),C=Object(ee.a)({watchedValue:e.balance}),w=Object(ee.a)({watchedValue:e.side}),k=Boolean(y&&y.res),O=y&&y.msg,P=Object(o.useRef)(null);return Object(o.useEffect)((function(){var t;5===e.initialFocus&&null!==(t=P.current)&&(t.focus(),t.setSelectionRange(t.value.length,t.value.length))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{value:c,onValueChange:function(t){l(t),e.onModifiedCallback()},step:e.step,formatter:e.formatter,errorMessage:O,errorHandler:e.setControlError,error:k&&S(e.control),inputReference:function(e){P.current=e},innerLabel:f?void 0:i.a.createElement("span",{className:ie.label},e.label),onFocus:function(){return t=e.control,d(t),void e.onControlFocused.fire();var t},className:(t=e.control,n=Boolean(y&&y.res)&&S(t),a(ie.input,n&&ie.error,S(t)&&ie.highlightedInactive,e.status.value()===m.h.Wait&&ie.wait)),button:M()?i.a.createElement(oe.a,{isDropped:f,onClick:function(){v(!f)}}):i.a.createElement(i.a.Fragment,null),containerReference:function(e){r.current=e}}),M()&&null!==C&&i.a.createElement(te.a,{position:function(){var e=Object(E.ensureNotNull)(r.current).getBoundingClientRect();return g(e.width),{x:e.left,y:e.top+e.height+1}},onClose:N,isOpened:f,doNotCloseOn:r.current,onKeyDown:function(e){switch(Object(ne.hashFromEvent)(e)){case 27:f&&(e.preventDefault(),N())}},minWidth:_},se.map((function(t){var n=function(e){return.01*e*Object(E.ensureNotNull)(C).available}(t),r=i.a.createElement(i.a.Fragment,null,t+"%  ",i.a.createElement("span",{
className:ie.value},"("+e.formatter.format(n)+" "+e.label+")"));return i.a.createElement(re.b,{key:t.toString(),className:ie.popupMenuItem,label:r,onClick:function(){return l(n)}})}))));function M(){return null!==C&&C.available>0&&(-1===w?3===e.control:4===e.control)}function S(t){return e.status.value()!==m.h.Wait&&p===t}function N(){v(!1),Object(E.ensureNotNull)(r.current).focus()}}function ce(e){var t=e.model,n=e.className,o={side:t.side,status:t.status,formatter:t.formatter,error:t.error,focusedControl:t.focusedControl,onControlFocused:t.onControlFocused,setControlError:t.setControlError,step:t.info.qty.step};return i.a.createElement("div",{className:a(n,ie.wrapper)},i.a.createElement(ae,Object(r.__assign)({},o,{value:t.quantity.value,onModifiedCallback:t.quantity.onModifiedCallback,label:t.info.baseCurrency,control:3,balance:t.baseCurrencyCryptoBalance,initialFocus:e.focus})),i.a.createElement(ae,Object(r.__assign)({},o,{value:t.quoteCurrencyQuantity.value,onModifiedCallback:t.quoteCurrencyQuantity.onModifiedCallback,label:t.info.quoteCurrency,control:4,balance:t.quoteCurrencyCryptoBalance})))}var le=n("WUqb"),ue=n("CSQ5"),pe=n("3nsW");function de(e){var t=a(pe.priceLabel,pe[e.modifier.toLowerCase()]);return o.createElement("span",{className:a(t)},e.modifier)}var he=n("Gg3R");function me(e){var t,n,r=e.price===e.ask,i=e.price===e.bid,s=e.price===e.last,a=(r||i)&&e.ask===e.bid;return e.displayPriceLabel&&(a&&1===e.side?t=o.createElement(de,{modifier:"Ask"}):a&&-1===e.side?t=o.createElement(de,{modifier:"Bid"}):r?t=o.createElement(de,{modifier:"Ask"}):i&&(t=o.createElement(de,{modifier:"Bid"})),n=o.createElement("div",{className:he.labelsGroup},t,s&&o.createElement(de,{modifier:"Last"}))),o.createElement("div",{className:he.absolutePriceDropdownItem},o.createElement("div",{className:he.price},e.price),n)}var fe=n("zcN6"),ve=n("R4+T"),be=n("VVyh"),_e=n("tTUf"),ge=Object(le.b)(fe.a),ye=window.t("Absolute",{context:"price"}),Ce=window.t("Price format is invalid."),we=function(e){function t(t){var n=e.call(this,t)||this;n._priceControl=null,n._priceInput=null,n._dropdown=null,n._setDropdownRef=function(e){n._dropdown=e},n._setInitialFocus=function(){!Modernizr.mobiletouch&&n._priceInput&&(n.props.priceType===m.k.Limit&&1===n.props.focus||n.props.priceType===m.k.Stop&&2===n.props.focus)&&(n._priceInput.setSelectionRange(n.state.displayPrice.length,n.state.displayPrice.length),n._priceInput.focus())},n._onFocus=function(e){if(n.props.onControlFocused&&n.props.onControlFocused(0),n.props.errorHandler){var t=n.state.priceFormatter.parse(n.state.displayPrice);n.props.errorHandler(!t.res)}n.props.onFocus&&n.props.onFocus(e)},n._onBlur=function(e){n.props.onBlur&&n.props.onBlur(e)},n._onOutsideClick=function(e){if(null!==n._priceControl&&!n._priceControl.contains(e.target)){var t=n.state.priceFormatter.parse(n.state.displayPrice),r=n.props.displayPrice;r=t.res?n.state.priceFormatter.format(t.value>=0?t.value:Math.abs(t.value)):n.state.prices[Object(be.c)()],n.setState({displayPrice:r},(function(){n._onPriceSelected(r)})),
n.props.errorHandler&&n.props.errorHandler(!1)}n.state.isOpened&&n._dropdown&&!n._dropdown.contains(e.target)&&n._closeDropdown()},n._onInputChange=function(e){var t=e.currentTarget.value,r=n.state.priceFormatter.parse(t);n._onModifiedCallback(),n.props.errorHandler&&n.props.errorHandler(!Boolean(r.res)),n._onPriceSelected(t)},n._onTouchStart=function(e){e.stopPropagation(),n._swipeState.y=e.touches[0].clientY},n._onTouchMove=function(e){if(e.preventDefault(),e.stopPropagation(),e.changedTouches&&e.changedTouches.length&&null!==n._swipeState.y){var t=e.changedTouches[0].clientY-n._swipeState.y;if(Math.abs(t)<10)return;n._swipeState.direction=t>0?"up":"down","up"===n._swipeState.direction?n._prependPriceOnTouchMove():"down"===n._swipeState.direction&&n._appendPriceOnTouchMove()}},n._onTouchEnd=function(e){e.stopPropagation(),n._resetSwipeState()},n._onDropdownWheelNoPassiv=function(e){e.preventDefault(),e.stopPropagation(),e.deltaY<0?n._prependPriceOnWheel():n._appendPriceOnWheel()},n._onInputMouseWheel=function(e){e.preventDefault(),e.stopPropagation(),n._onModifiedCallback(),n._scrollPriceOnWheel(e.deltaY<0?1:-1)},n._onSelect=function(e,t){var r=n.state.priceFormatter.parse(t.text);n.props.errorHandler&&n.props.errorHandler(!r.res),n.setState({highlighted:!0,displayPrice:t.text,selected:e,isPriceSelectedByWheelOrByDropdown:!0},(function(){n._onModifiedCallback(),n._closeDropdown(),n._onPriceSelected(t.text),!Modernizr.mobiletouch&&n._priceInput&&n._priceInput.focus()}))},n._onNavigate=function(e,t){var r=n.state.command&&"prev"===n.state.command.name,o=n.state.command&&"next"===n.state.command.name;r?n._prependPriceOnNavigate():o&&n._appendPriceOnNavigate()},n._onMouseOver=function(e){n.setState({mouseOver:!0})},n._onMouseOut=function(e){n.setState({mouseOver:!1})},n._onOpenBtnClick=function(e){e.stopPropagation(),n.state.isOpened?n._closeDropdown():(n._openDropdown(),!Modernizr.mobiletouch&&n._priceInput&&(n._priceInput.setSelectionRange(n.state.displayPrice.length,n.state.displayPrice.length),n._priceInput.focus()),n.props.onControlFocused&&n.props.onControlFocused(0))},n._setPriceInput=function(e){n._priceInput=e},n._setPriceControl=function(e){n._priceControl=e},n._scrollPriceOnArrowUp=function(e){e.preventDefault(),n._onModifiedCallback(),n._prependPriceOnNavigate()},n._scrollPriceOnArrowDown=function(e){e.preventDefault(),n._onModifiedCallback(),n._appendPriceOnNavigate()},n._selectPrev=function(e){e.preventDefault(),n._onModifiedCallback(),n.setState({command:{name:"prev"}})},n._selectNext=function(e){e.preventDefault(),n._onModifiedCallback(),n.setState({command:{name:"next"}})},n._openDropdown=function(){n.setState({highlighted:!0,isOpened:!0,keyboardEventHandlers:n._getKeyboardEventHandlers("open")})},n._closeDropdownWithStopPropagation=function(e){e&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),n._closeDropdown()},n._closeDropdown=function(){var e={isOpened:!1,keyboardEventHandlers:n._getKeyboardEventHandlers("close")}
;if(n.props.error||-1!==n.state.prices.indexOf(n.state.displayPrice)&&n.state.selected===Math.floor(n.state.prices.length/2))n.setState(e);else{var t=n.state.priceFormatter.parse(n.state.displayPrice),o=t.res?Object(be.a)(t.value,n.props.step,n.state.priceFormatter,Object(be.c)()):n.state.prices;n.setState((function(t){return Object(r.__assign)(Object(r.__assign)({},e),{prices:o,selected:o.indexOf(n.state.displayPrice)})}))}};var o=Object(be.a)(Object(be.d)(t.displayPrice,t.priceFormatter),t.step,t.priceFormatter,Object(be.c)());return n.state={displayPrice:t.displayPrice,prices:o,selected:o.indexOf(t.displayPrice),highlighted:Boolean(n.props.highlighted),isOpened:!1,mouseOver:!1,keyboardEventHandlers:n._getKeyboardEventHandlers("close"),priceFormatter:t.priceFormatter,step:t.step,isPriceSelectedByWheelOrByDropdown:!1},n._resetSwipeState(),n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this._setInitialFocus()},t.prototype.render=function(){var e=this,t=a(_e.absolutePriceControl,this.props.className),n=o.createElement("span",{className:_e.priceLabel},ye),r=a(_e.openIcon,this.state.isOpened&&_e.opened,this.props.status===m.h.Wait&&_e.wait),i=o.createElement("div",{className:_e.openButton,onClick:this._onOpenBtnClick},o.createElement("div",{className:_e.iconWrapper},o.createElement(H.Icon,{className:r,icon:ve})));return o.createElement(V.a,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},(function(r){return o.createElement("span",{className:t,ref:r},o.createElement(ge,{className:e.props.inputClassName,containerReference:e._setPriceControl,inputReference:e._setPriceInput,keyboardEventHandlers:e.state.keyboardEventHandlers,value:e.state.displayPrice,warning:e.props.warning,error:e.props.error,errorMessage:e.props.errorMessage||Ce,showErrorMessage:(e.props.error||e.props.warning)&&e.state.mouseOver,onChange:e._onInputChange,onFocus:e._onFocus,onBlur:e._onBlur,onMouseOver:e._onMouseOver,onMouseOut:e._onMouseOut,onWheelNoPassive:e._onInputMouseWheel},i),n,o.createElement(ue.a,{anchor:"bottom",root:"document",reference:e._setDropdownRef,className:_e.list,command:e.state.command,isOpened:e.state.isOpened,items:e._makeListItems(),itemsClassName:_e.item,width:e._getDropdownWidth(),selected:e.state.selected,selectedClassName:_e.selected,target:null!==e._priceControl?e._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!1,shouldScrollIfNotVisible:!1,onSelect:e._onSelect,onNavigate:e._onNavigate,onDropdownTouchStart:e._onTouchStart,onDropdownTouchMove:e._onTouchMove,onDropdownTouchEnd:e._onTouchEnd,onDropdownWheelNoPassive:e._onDropdownWheelNoPassiv}))}))},t.getDerivedStateFromProps=function(e,t){if(e.displayPrice!==t.displayPrice||e.highlighted!==t.highlighted||e.priceFormatter!==t.priceFormatter||e.step!==t.step){var n=e.priceFormatter.parse(e.displayPrice),o=n.res?Object(be.a)(n.value,e.step,e.priceFormatter,Object(be.c)()):t.prices,i=e.priceFormatter.format(Object(be.d)(e.displayPrice,e.priceFormatter)),s=Object(r.__assign)(Object(r.__assign)({},t),{
displayPrice:e.displayPrice,priceFormatter:e.priceFormatter,step:e.step,isPriceSelectedByWheelOrByDropdown:!1});return e.error||(s.selected=o.indexOf(i),s.highlighted=Boolean(e.highlighted),s.prices=o),s}return null},t.prototype._onPriceSelected=function(e){"function"==typeof this.props.onPriceSelected&&this.props.onPriceSelected(e)},t.prototype._resetSwipeState=function(){this._swipeState={direction:null,y:null}},t.prototype._getKeyboardEventHandlers=function(e){var t,n;return"close"===e?((t={})[le.a.UpArrow]=this._scrollPriceOnArrowUp,t[le.a.DownArrow]=this._scrollPriceOnArrowDown,t):((n={})[le.a.Enter]=this._closeDropdownWithStopPropagation,n[le.a.Escape]=this._closeDropdownWithStopPropagation,n[le.a.UpArrow]=this._selectPrev,n[le.a.DownArrow]=this._selectNext,n)},t.prototype._makeListItems=function(e){var t=this;return void 0===e&&(e=!0),this.state.prices.map((function(n){return{text:n,elem:o.createElement(me,{price:n,ask:t.props.priceFormatter.format(t.props.ask),bid:t.props.priceFormatter.format(t.props.bid),last:t.props.priceFormatter.format(t.props.last),side:t.props.side,displayPriceLabel:e})}}))},t.prototype._prependPriceOnWheel=function(){var e=this.state.priceFormatter.format(Object(be.d)(this.state.prices[0],this.state.priceFormatter)+1*this.props.step);this.setState((function(t){return{prices:[e].concat(t.prices.slice(0,-1)),selected:0===t.selected?1:t.selected+1}}))},t.prototype._appendPriceOnWheel=function(){var e=this.state.prices.length-1,t=this.state.priceFormatter.format(Object(be.d)(this.state.prices[e],this.state.priceFormatter)+-1*this.props.step);this.setState((function(n){return{prices:n.prices.slice(1).concat(t),selected:n.selected===e?e-1:n.selected-1}}))},t.prototype._scrollPriceOnWheel=function(e){var t=this,n=this.state.priceFormatter.format(Object(be.d)(this.state.prices[this.state.selected],this.state.priceFormatter)+e*this.props.step);this.setState({displayPrice:n},(function(){1===e?t._prependPriceOnNavigate():t._appendPriceOnNavigate()}))},t.prototype._prependPriceOnNavigate=function(){var e,t=this,n=[this.state.priceFormatter.format(Object(be.d)(this.state.prices[0],this.state.priceFormatter)+1*this.props.step)].concat(this.state.prices.slice(0,-1)),r=this.state.prices.length-1;e=this.state.selected<=0?0:this.state.selected>r?r:this.state.selected,this.setState({prices:n,displayPrice:n[e],selected:e,isPriceSelectedByWheelOrByDropdown:!0},(function(){t._onPriceSelected(n[e])}))},t.prototype._appendPriceOnNavigate=function(){var e,t=this,n=this.state.priceFormatter.format(Object(be.d)(this.state.prices[this.state.prices.length-1],this.state.priceFormatter)+-1*this.props.step),r=this.state.prices.slice(1).concat(n),o=this.state.prices.length-1;e=this.state.selected<=0?0:this.state.selected>o?o:this.state.selected,this.setState({prices:r,displayPrice:r[e],selected:e,isPriceSelectedByWheelOrByDropdown:!0},(function(){t._onPriceSelected(r[e])}))},t.prototype._prependPriceOnTouchMove=function(){
var e=this,t=Object(be.d)(this.state.prices[0],this.state.priceFormatter),n=Object(be.b)(1,t,this.props.step,1,this.state.priceFormatter);this.setState((function(t){return{prices:n.concat(t.prices.slice(0,e.state.prices.length-1)),selected:0===t.selected?1:t.selected+1}}))},t.prototype._appendPriceOnTouchMove=function(){var e=this.state.prices.length-1,t=Object(be.d)(this.state.prices[e],this.state.priceFormatter),n=Object(be.b)(1,t,this.props.step,-1,this.state.priceFormatter);this.setState((function(t){return{prices:t.prices.slice(1).concat(n),selected:t.selected===e?e-1:t.selected-1}}))},t.prototype._getDropdownWidth=function(){if(this.state.isOpened&&null!==this._priceControl&&(this.context.mode===m.g.Popup||this.state.prices[0].length<=7))return parseFloat(window.getComputedStyle(this._priceControl,null).getPropertyValue("width"))+2},t.prototype._onModifiedCallback=function(){this.props.onModifiedCallback&&this.props.onModifiedCallback()},t.contextType=m.f,t.defaultProps={highlighted:!1,className:"",inputClassName:""},t}(o.PureComponent),ke=n("RRM5");function Ee(e){return o.createElement("div",{className:ke.relativePriceDropdownItem},o.createElement("div",{className:ke.price},e.price))}var Oe=n("0rc0"),Pe=n("Nkvk");function Me(e,t){return e.findIndex((function(e){return e.displayValue===t}))}var Se=/^[-+]?[0-9]*\.?[0-9]+$/;function Ne(e){return Se.test(e)}function Te(e){return"ask"===e?"Ask":"bid"===e?"Bid":"Stop"}function xe(e){return void 0!==e&&e>0?" + "+Math.abs(e):void 0!==e&&e<0?" - "+Math.abs(e):""}function De(e,t){return Te(e)+xe(Math.round(t||0))}function Be(e){return void 0!==e?String(e):"0"}function Ie(e,t){var n,r,o=e.offset;return n=e.base,r=function(e,t){return(Math.abs(e)>=1?e:0)+(1===t?1:-1)}(o,t),{displayValue:Te(n)+xe(r),base:n,offset:r}}function Fe(e,t){for(var n=[],o=[],i={displayValue:Te(e.base)+xe(e.offset),base:e.base,offset:e.offset},s=0;s<t;s++)n.unshift(Ie(0===s?i:n[0],1)),o.push(Ie(0===s?i:o[s-1],-1));return Object(r.__spreadArrays)(n,[i],o)}function We(){return"phone"!==Pe.mediaState.device&&"phone-vertical"!==Pe.mediaState.device?6:4}var je=n("vwxn"),Re=Object(le.b)(fe.a),He=window.t("Ticks",{context:"price"}),Ve=window.t("Price format is invalid."),ze=function(e){function t(t){var n=e.call(this,t)||this;n._priceInput=null,n._priceControl=null,n._dropdown=null,n._setDropdownRef=function(e){n._dropdown=e},n._onMouseOver=function(e){n.setState({mouseOver:!0})},n._onMouseOut=function(e){n.setState({mouseOver:!1})},n._onOutsideClick=function(e){n.state.isOpened&&n._dropdown&&!n._dropdown.contains(e.target)&&n._closeDropdown()},n._onFocus=function(e){n.setState({isEditing:!0,displayValue:Be(n.state.value.offset)},(function(){var e,t;null!==n._priceInput&&(e=n._priceInput,t=n.state.displayValue.length,e.setSelectionRange&&(e.focus(),e.setSelectionRange(0,t),e.select()))})),n.props.onControlFocused&&n.props.onControlFocused(1),n.props.onFocus&&n.props.onFocus(e)},n._onBlur=function(e){n.props.onBlur&&n.props.onBlur(e)
;var t=n.state.prices[0].base,r=Me(n.state.prices,De(t,n.state.value.offset)),o=0<=r&&r<=n.state.prices.length-1?r:Math.floor(n.state.prices.length/2);n.setState({isEditing:!1,displayValue:n.state.prices[o].displayValue,selected:o},(function(){n._trackExitEditingModeEvent(n.state.prices[o].offset)}))},n._onInputChange=function(e){n._onModifiedCallback();var t=e.currentTarget.value;if(Ne(t)){var r={base:n.state.value.base,offset:Number(t)},o=Fe(r,We()),i=Me(o,De(r.base,r.offset));n.setState({displayValue:t,prices:o,selected:i,isOpened:!1},(function(){n._onPriceSelected(r)}))}else n.setState({displayValue:t,isOpened:!1})},n._onTouchStart=function(e){e.stopPropagation(),n._swipeState.y=e.touches[0].clientY},n._onTouchMove=function(e){if(e.preventDefault(),e.stopPropagation(),e.changedTouches&&e.changedTouches.length&&null!==n._swipeState.y){var t=e.changedTouches[0].clientY-n._swipeState.y;if(Math.abs(t)<10)return;n._swipeState.direction=t>0?"up":"down","up"===n._swipeState.direction?n._prependPriceOnTouchMove():"down"===n._swipeState.direction&&n._appendPriceOnTouchMove()}},n._onTouchEnd=function(e){e.stopPropagation(),n._resetSwipeState()},n._onDropdownWheelNoPassive=function(e){e.preventDefault(),e.stopPropagation(),e.deltaY<0?n._prependPriceOnWheel():n._appendPriceOnWheel()},n._onInputMouseWheel=function(e){e.preventDefault(),e.stopPropagation(),n._onModifiedCallback(),n._scrollPriceOnWheel(e.deltaY<0?1:-1)},n._onSelect=function(e,t){n.setState((function(r){return{highlighted:!0,displayValue:n.state.isEditing?Be(t.offset):t.text,selected:e}}),(function(){n._onModifiedCallback(),n._closeDropdown(),n._onPriceSelected(),n.setState({isEditing:!1},(function(){n._blurInput()}))}))},n._onNavigate=function(e,t){var r=n.state.command&&"prev"===n.state.command.name,o=n.state.command&&"next"===n.state.command.name;r?n._prependPriceOnNavigate():o&&n._appendPriceOnNavigate()},n._onOpenBtnClick=function(e){e.preventDefault(),e.stopPropagation(),n.state.isOpened?n._closeDropdown():(n._openDropdown(),!Modernizr.mobiletouch&&n._priceInput&&n._priceInput.focus(),n.props.onControlFocused&&n.props.onControlFocused(1),n.setState({isEditing:!1,displayValue:n.state.displayValue},(function(){!Modernizr.mobiletouch&&n._priceInput&&n._priceInput.setSelectionRange(n.state.displayValue.length,n.state.displayValue.length)})))},n._switchEditingMode=function(e){e.preventDefault();var t=Number(n.state.displayValue);if(Number.isInteger(t))n.setState({isEditing:!1},(function(){n._blurInput()}));else{var r=Math.round(t),o={base:n.state.value.base,offset:r},i=Fe(o,We()),s=Me(i,De(o.base,o.offset));n.setState({displayValue:String(r),prices:i,selected:s,isEditing:!1},(function(){n._onPriceSelected(),n._blurInput()}))}},n._setPriceInput=function(e){n._priceInput=e},n._setPriceControl=function(e){n._priceControl=e},n._scrollPriceOnArrowUp=function(e){e.preventDefault(),n._onModifiedCallback(),n._prependPriceOnNavigate()},n._scrollPriceOnArrowDown=function(e){e.preventDefault(),n._onModifiedCallback(),n._appendPriceOnNavigate()},n._selectPrev=function(e){
e.preventDefault(),n._onModifiedCallback(),n.setState({command:{name:"prev"}})},n._selectNext=function(e){e.preventDefault(),n._onModifiedCallback(),n.setState({command:{name:"next"}})},n._openDropdown=function(){n.setState({highlighted:!0,isOpened:!0,keyboardEventHandlers:n._getKeyboardEventHandlers("open")})},n._closeDropdownOnKeyDown=function(e){e.preventDefault(),n._closeDropdown(),n.setState({isEditing:!1,displayValue:n.state.displayValue},(function(){n._blurInput()}))},n._closeDropdown=function(){var e={isOpened:!1,keyboardEventHandlers:n._getKeyboardEventHandlers("close")};if(-1===Me(n.state.prices,n.state.displayValue)||n.state.selected!==Math.floor(n.state.prices.length/2)){var t=Fe({base:n.state.value.base,offset:n.state.value.offset||0},We()),o=Me(t,n.state.displayValue);n.setState(Object(r.__assign)(Object(r.__assign)({},e),{prices:t,selected:o}))}else n.setState(e)},n._trackExitEditingModeEvent=function(e){n.props.trackEvent&&n.props.trackEvent("Order Ticket","Relative Price - Exit Editing Mode",String(e))};var o=De(t.initialValue.base,t.initialValue.offset),i=Fe(n.props.initialValue,We()),s=Me(i,o);return n.state={value:t.initialValue,displayValue:o,prices:i,selected:s,highlighted:Boolean(n.props.highlighted),isOpened:!1,isEditing:!1,mouseOver:!1,keyboardEventHandlers:n._getKeyboardEventHandlers("close")},n._resetSwipeState(),n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=a(je.relativePriceControl,this.props.className),n=o.createElement("span",{className:je.pipsLabel},He),r=a(je.openIcon,this.state.isOpened&&je.opened,this.props.status===m.h.Wait&&je.wait),i=o.createElement("div",{className:je.openButton,onClick:this._onOpenBtnClick},o.createElement("div",{className:je.iconWrapper},o.createElement(H.Icon,{className:r,icon:ve}))),s=this.state.isEditing&&!Ne(this.state.displayValue);return o.createElement(V.a,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},(function(r){return o.createElement("span",{className:t,ref:r},o.createElement(Re,{className:e.props.inputClassName,containerReference:e._setPriceControl,inputReference:e._setPriceInput,keyboardEventHandlers:e.state.keyboardEventHandlers,value:e.state.displayValue,readOnly:!e.state.isEditing,error:s,errorMessage:s?Ve:void 0,showErrorMessage:s&&e.state.mouseOver,onFocus:e._onFocus,onBlur:e._onBlur,onChange:e._onInputChange,onWheelNoPassive:e._onInputMouseWheel,onMouseOver:e._onMouseOver,onMouseOut:e._onMouseOut},i),n,o.createElement(ue.a,{anchor:"bottom",root:"document",reference:e._setDropdownRef,className:je.list,command:e.state.command,isOpened:e.state.isOpened,items:e._makeListItems(),itemsClassName:je.item,selected:e.state.selected,selectedClassName:je.selected,target:null!==e._priceControl?e._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!0,shouldScrollIfNotVisible:!1,onSelect:e._onSelect,onNavigate:e._onNavigate,onDropdownTouchStart:e._onTouchStart,onDropdownTouchMove:e._onTouchMove,onDropdownTouchEnd:e._onTouchEnd,onDropdownWheelNoPassive:e._onDropdownWheelNoPassive}))}))},
t.getDerivedStateFromProps=function(e,t){var n=De(e.initialValue.base,e.initialValue.offset);if(!1===Object(Oe.g)(t.value,e.initialValue)||t.highlighted!==e.highlighted){var o=Fe(e.initialValue,We()),i=Me(o,n);return Object(r.__assign)(Object(r.__assign)({},t),{highlighted:Boolean(e.highlighted),value:e.initialValue,displayValue:t.isEditing?Be(e.initialValue.offset):n,prices:o,selected:i})}return null},t.prototype._blurInput=function(){!Modernizr.mobiletouch&&this._priceInput&&this._priceInput.blur()},t.prototype._onPriceSelected=function(e){if("function"==typeof this.props.onPriceSelected){var t=void 0!==e?e:this.state.prices[this.state.selected],n={base:t.base,offset:t.offset};this.props.onPriceSelected(n)}},t.prototype._onModifiedCallback=function(){this.props.onModifiedCallback&&this.props.onModifiedCallback()},t.prototype._resetSwipeState=function(){this._swipeState={direction:null,y:null}},t.prototype._getKeyboardEventHandlers=function(e){var t,n;return"close"===e?((t={})[le.a.UpArrow]=this._scrollPriceOnArrowUp,t[le.a.DownArrow]=this._scrollPriceOnArrowDown,t[le.a.Enter]=this._switchEditingMode,t):((n={})[le.a.Enter]=this._closeDropdownOnKeyDown,n[le.a.Escape]=this._closeDropdownOnKeyDown,n[le.a.UpArrow]=this._selectPrev,n[le.a.DownArrow]=this._selectNext,n)},t.prototype._makeListItems=function(){return this.state.prices.map((function(e,t){return{base:e.base,offset:e.offset,text:e.displayValue,elem:o.createElement(Ee,{price:e.displayValue})}}))},t.prototype._prependPriceOnWheel=function(){var e=Ie(this.state.prices[0],1);this.setState((function(t){return{prices:[e].concat(t.prices.slice(0,-1)),selected:0===t.selected?1:t.selected+1}}))},t.prototype._appendPriceOnWheel=function(){var e=this.state.prices.length-1,t=Ie(this.state.prices[e],-1);this.setState((function(n){return{prices:n.prices.slice(1).concat(t),selected:n.selected===e?e-1:n.selected-1}}))},t.prototype._scrollPriceOnWheel=function(e){var t=this,n=Ie(this.state.prices[this.state.selected],e);this.setState({displayValue:this.state.isEditing?Be(n.offset):n.displayValue},(function(){1===e?t._prependPriceOnNavigate():t._appendPriceOnNavigate()}))},t.prototype._prependPriceOnNavigate=function(){var e=this,t=Ie(this.state.prices[0],1);this.setState((function(n){var r=[t].concat(n.prices.slice(0,-1)),o=e.state.prices.length-1;return{prices:r,selected:e.state.selected<=0?0:e.state.selected>o?o:n.selected}}),(function(){e._onPriceSelected()}))},t.prototype._appendPriceOnNavigate=function(){var e=this,t=Ie(this.state.prices[this.state.prices.length-1],-1);this.setState((function(n){var r=n.prices.slice(1).concat(t),o=e.state.prices.length-1;return{prices:r,selected:e.state.selected<=0?0:e.state.selected>o?o:n.selected}}),(function(){e._onPriceSelected()}))},t.prototype._prependPriceOnTouchMove=function(){var e=this,t=this.state.prices[0],n=[];n.unshift(Ie(t,1)),this.setState((function(t){return{prices:n.concat(t.prices.slice(0,e.state.prices.length-1)),selected:0===t.selected?1:t.selected+1}}))},t.prototype._appendPriceOnTouchMove=function(){
var e=this.state.prices.length-1,t=this.state.prices[e],n=[];n.push(Ie(t,-1)),this.setState((function(t){return{prices:t.prices.slice(1).concat(n),selected:t.selected===e?e-1:t.selected-1}}))},t.defaultProps={highlighted:!1,className:"",inputClassName:""},t}(o.PureComponent),Le=n("TDT9");function Ae(e){var t=e.relativePrice.value();return null!==t?t:{base:1===e.side.value()?"ask":"bid",offset:0}}function Ue(e,t,n){return e.status!==m.h.Wait&&e.focusedControl===n&&t.showRelativePriceControl}var qe=n("EVs3");function Ke(e){return o.createElement(Y.a.Consumer,null,(function(t){return o.createElement("div",{className:qe.controlGroup},o.createElement("div",{className:qe.title},e.groupTitle),o.createElement(Le.a,{className:qe.controlContainer},o.createElement(we,{className:a(qe.control,qe.absolutePriceControl,!t.value.showRelativePriceControl&&qe.singlePriceControl),priceType:e.priceType,inputClassName:Ge(e,t),status:e.status,highlighted:Ue(e,t.value,0),displayPrice:e.absolutePrice,step:e.step,ask:e.ask,bid:e.bid,last:e.last,side:e.side,priceFormatter:e.priceFormatter,warning:e.status!==m.h.Wait&&e.error.res&&"warning"===e.error.severity,error:e.error.res&&"error"===e.error.severity,errorMessage:e.errorMessage,errorHandler:e.errorHandler,onControlFocused:e.onControlFocused,onPriceSelected:e.onAbsolutePriceSelected,displayPriceLabel:!e.isRelativePriceControlHidden,trackEvent:e.trackEvent,onModifiedCallback:e.modifiedAbsolutePriceControlStat,focus:e.focus}),t.value.showRelativePriceControl&&!e.isRelativePriceControlHidden&&o.createElement(ze,{className:a(qe.control,qe.relativePriceControl),inputClassName:Ye(e,t),status:e.status,highlighted:Ue(e,t.value,1),initialValue:e.relativePrice,onControlFocused:e.onControlFocused,onPriceSelected:e.onRelativePriceSelected,trackEvent:e.trackEvent,onModifiedCallback:e.modifiedRelativePriceControlStat})))}))}function Ge(e,t){return a(qe.input,e.status===m.h.Wait&&qe.wait,Ue(e,t.value,0)&&qe.highlightedInactive)}function Ye(e,t){return a(qe.input,e.status===m.h.Wait&&qe.wait,Ue(e,t.value,1)&&qe.highlightedInactive)}var Qe=function(e){function t(t){var n=e.call(this,t)||this;return n._errorHandler=function(e){n.props.model.setControlError(e)},n._updatePrice=function(e){null!==e&&n._callback()},n._updateRelativePrice=function(e){null!==e&&n._callback()},n._onAbsolutePriceSelected=function(e){n.props.model.onAbsolutePriceSelected(e)},n._onRelativePriceSelected=function(e){n.props.model.onRelativePriceSelected(e)},n._onControlFocused=function(e){n.props.model.focusedControl.setValue(e),n.props.model.onControlFocused.fire()},n._callback=function(){return n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this._subscribeToModel(this.props.model)},t.prototype.componentWillUnmount=function(){this._unsubscribeFromModel(this.props.model)},t.prototype.render=function(){var e=this.props.model,t=e.quotes.value();return o.createElement(Ke,{status:e.status.value(),priceType:this.props.priceType,groupTitle:this.props.groupTitle,
focusedControl:e.focusedControl.value(),absolutePrice:e.displayPrice.value(),relativePrice:Ae(e),errorHandler:this._errorHandler,step:e.step.value(),ask:t.ask,bid:t.bid,last:t.last,side:e.side.value(),priceFormatter:e.formatter,error:e.error.value(),errorMessage:e.error.value().msg,onAbsolutePriceSelected:this._onAbsolutePriceSelected,onRelativePriceSelected:this._onRelativePriceSelected,modifiedAbsolutePriceControlStat:e.modifiedAbsolutePriceControlStat,modifiedRelativePriceControlStat:e.modifiedRelativePriceControlStat,onControlFocused:this._onControlFocused,isRelativePriceControlHidden:e.isRelativePriceControlHidden,trackEvent:this.props.trackEvent,focus:this.props.focus})},t.prototype._subscribeToModel=function(e){e.focusedControl.subscribe(this._callback),e.displayPrice.subscribe(this._updatePrice),e.error.subscribe(this._callback),e.relativePrice.subscribe(this._updateRelativePrice),e.quotes.subscribe(this._callback),e.side.subscribe(this._callback),e.orderType.subscribe(this._callback),e.step.subscribe(this._callback)},t.prototype._unsubscribeFromModel=function(e){e.focusedControl.unsubscribe(this._callback),e.displayPrice.unsubscribe(this._updatePrice),e.error.unsubscribe(this._callback),e.relativePrice.unsubscribe(this._updateRelativePrice),e.quotes.unsubscribe(this._callback),e.side.unsubscribe(this._callback),e.orderType.unsubscribe(this._callback),e.step.unsubscribe(this._callback)},t}(o.PureComponent),Je=window.t("Order Price"),Xe=window.t("Stop Price"),Ze=window.t("Limit Price"),$e=function(e){function t(t){var n=e.call(this,t)||this;return n._callback=function(){return n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.model.orderType.subscribe(this._callback)},t.prototype.componentWillUnmount=function(){this.props.model.orderType.unsubscribe(this._callback)},t.prototype.render=function(){var e=this.props.model.orderType.value();if(2===e)return null;var t=3===e?this.props.model.stopPriceModel:this.props.model.limitPriceModel;return o.createElement(o.Fragment,null,o.createElement("div",null,4===e&&o.createElement(Qe,{key:this.props.model.stopPriceModel.id,model:this.props.model.stopPriceModel,priceType:m.k.Stop,groupTitle:Xe,trackEvent:this.props.trackEvent,focus:this.props.focus}),o.createElement(Qe,{key:t.id,model:t,priceType:3===e?m.k.Stop:m.k.Limit,groupTitle:4===e?Ze:Je,trackEvent:this.props.trackEvent,focus:this.props.focus})))},t}(o.PureComponent),et=n("twDL"),tt=n("ldgD"),nt=n("4ko3"),rt=n("9c3F"),ot=n("yTrw"),it=n("75D8"),st=(n("HbRj"),n("xT4p")),at=window.t("Set {durationType} {datetime}"),ct=function(e){function t(t){var n=e.call(this,t)||this;return n._todayMidnight=tt("00:00","HH:mm"),n._onSelect=function(){n.props.onSelect(n.state.date,n.state.time)},n._onDateSelect=function(e){n.setState({date:e})},n._onTimeSelect=function(e){n.setState({time:e})},n.state={date:n.props.initTime,time:n.props.initDate},n}return Object(r.__extends)(t,e),t.prototype.render=function(){
var e=this.state.date.format("DD")+" "+this.state.date.format("MMM")+" '"+this.state.date.format("YY"),t=this.state.time.format("HH:mm"),n=at.format({durationType:this.props.durationMetaInfo.name,datetime:e+(this.props.durationMetaInfo.hasTimePicker?", "+t:"")});return o.createElement("div",{className:st.editWrapper},o.createElement("div",{className:st.dateTimeWrapper},this.props.durationMetaInfo.hasDatePicker&&o.createElement(ot.a,{selectedDate:this.state.date,className:st.calendar,minDate:this._todayMidnight,onSelect:this._onDateSelect}),this.props.durationMetaInfo.hasTimePicker&&o.createElement(it.a,{selectedTime:this.state.time,onSelect:this._onTimeSelect,className:st.clock})),o.createElement("div",{className:st.buttonBlock},o.createElement("div",{className:st.buttonWrapper},o.createElement(C.Button,{size:"l",onClick:this._onSelect},n))))},t}(o.PureComponent),lt=n("MiOS"),ut=n("Iksw"),pt={attachment:{horizontal:"center",vertical:"bottom"},targetAttachment:{horizontal:"center",vertical:"top"}},dt={attachment:{horizontal:"right",vertical:"bottom"},targetAttachment:{horizontal:"right",vertical:"top"}},ht=window.t("Time in Force"),mt=function(e){function t(t){var n=e.call(this,t)||this;return n._typeTextElement=null,n._dateTextElement=null,n._timeDropdown=null,n._updateTimeAttachment=function(){if(n._timeDropdown){var e=Object(E.ensureNotNull)(n._timeDropdown).getBoundingClientRect().right>Object(E.ensureNotNull)(document.documentElement).clientWidth?dt:pt;n.setState({dateAnchors:e})}},n._setTypeElement=function(e){n._typeTextElement=e},n._setTimeDateRef=function(e){n._dateTextElement=e},n._setTimeDropdownRef=function(e){n._timeDropdown=e},n._onTypeClick=function(){n.setState((function(e){return{isTypeOpened:!e.isTypeOpened,isTimeOpened:!1}})),n.props.onClick&&n.props.onClick()},n._onTimeClick=function(){n.setState((function(e){return{isTypeOpened:!1,isTimeOpened:!e.isTimeOpened,dateAnchors:pt}})),n.props.onClick&&n.props.onClick()},n._onTypeEscape=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),27===e.keyCode&&n._close()},n._onTimeEscape=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),27===e.keyCode&&n._close()},n._onTypeSelect=function(e){var t={type:n.props.durations[e||0].value},r=Object(lt.b)(n.props.durations,t.type);void 0!==r&&(r.hasDatePicker||r.hasTimePicker)&&(t.datetime=n.props.duration.datetime||Object(lt.d)(tt().utc().add(1,"days"))),n.props.onDurationChanged(t),n._close()},n._onTimeSelect=function(e,t){var r=tt({year:e.year(),month:e.month(),day:e.date(),hour:t.hour(),minute:t.minute()}).utc(),o=Object(lt.d)(r);n.props.onDurationChanged({type:n.props.duration.type,datetime:o}),n._close()},n._onTimeBlockClickOutside=function(e){n._timeDropdown&&n._timeDropdown.contains(e.target)||!n.state.isTypeOpened&&!n.state.isTimeOpened||(n.setState({isTimeOpened:!1}),n.props.onClose&&n.props.onClose())},n._close=function(){n.props.onClose&&n.props.onClose(),n.setState({isTypeOpened:!1,isTimeOpened:!1})},n.state={isTypeOpened:!1,isTimeOpened:!1,dateAnchors:pt},n}
return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(lt.b)(this.props.durations,this.props.duration.type);if(void 0===t)return null;var n=this.props.duration.datetime?tt(this.props.duration.datetime):"GTT"===this.props.duration.type||"GTD"===this.props.duration.type?tt().utc().add(1,"days"):tt(),r=Object(lt.c)(n,t),i=this.props.durations.length>1?o.createElement(nt.a,{className:st.typeSelector,reference:this._setTypeElement,text:t.name,tabIndex:-1,onClick:this._onTypeClick,onKeyDown:this._onTypeEscape}):o.createElement("span",{className:st.typeSelector},this.props.durations[0].name+" "),s=t.hasDatePicker||t.hasTimePicker?o.createElement(nt.a,{className:st.timeSelector,reference:this._setTimeDateRef,text:r,tabIndex:-1,onClick:this._onTimeClick,onKeyDown:this._onTimeEscape}):void 0,a=Object.values(this.props.durations).map((function(t,n){return o.createElement(re.b,{label:t.name,key:t.value,onClickArg:n,onClick:e._onTypeSelect})}));return o.createElement("div",{className:st.duration},o.createElement("span",null,ht),i,o.createElement(te.a,{doNotCloseOn:this,isOpened:this.state.isTypeOpened,position:Object(ut.e)(this._typeTextElement,{verticalMargin:0}),onClose:this._close},a),o.createElement(V.a,{mouseDown:!0,touchStart:!0,handler:this._onTimeBlockClickOutside},(function(r){return o.createElement("span",{className:st.container,ref:r},s,o.createElement(rt.a,{root:"document",isOpened:e.state.isTimeOpened,target:e._dateTextElement||void 0,targetAttachment:e.state.dateAnchors.targetAttachment,attachment:e.state.dateAnchors.attachment,inheritWidthFromTarget:!1,width:t.hasTimePicker?500:280,reference:e._setTimeDropdownRef,onResize:e._updateTimeAttachment},o.createElement(ct,{durationMetaInfo:t,initDate:n,initTime:n,onSelect:e._onTimeSelect})))})))},t}(o.PureComponent),ft=function(e){function t(t){var n=e.call(this,t)||this;return n.onDurationChanged=function(e){n.props.model.duration.setValue(e),n.props.model.onModifiedCallback()},n._onClick=function(){n.props.model.onControlFocused.fire()},n._callback=function(){return n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.model.duration.subscribe(this._callback),this.props.model.orderType.subscribe(this._callback)},t.prototype.componentWillUnmount=function(){this.props.model.duration.unsubscribe(this._callback),this.props.model.orderType.unsubscribe(this._callback)},t.prototype.render=function(){return o.createElement(mt,{duration:this.props.model.duration.value(),durations:this._getDurations(),onDurationChanged:this.onDurationChanged,onClose:this.props.onClose,onClick:this._onClick})},t.prototype._getDurations=function(){var e=this.props.model.orderType.value(),t=this.props.model.durations;return Object(lt.a)(e,t)},t}(o.PureComponent),vt=n("O8MG"),bt=window.t("Margin Used"),_t=window.t("Margin Available"),gt=function(e){function t(t){var n=e.call(this,t)||this;return n._callback=function(){return n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){
this.context.resizerWidth&&this.context.resizerWidth.subscribe(this._callback)},t.prototype.componentWillUnmount=function(){this.context.resizerWidth&&this.context.resizerWidth.unsubscribe(this._callback)},t.prototype.render=function(){var e={width:this.props.progress+"%"},t=a(vt.progress,100===this.props.progress&&vt.fullFilled,this.props.usedMargin>this.props.availableMargin&&vt.marginOverflow);return o.createElement("div",{className:a(vt.progressBarContainer,this.props.wait&&vt.wait)},o.createElement("div",{className:vt.marginsContainer},o.createElement("div",{className:vt.usedMargin},o.createElement("div",null,bt),o.createElement("span",null,Object(Oe.j)(this.props.usedMargin))),o.createElement("div",{className:vt.availableMargin},o.createElement("div",null,_t),o.createElement("span",null,Object(Oe.j)(this.props.availableMargin)))),o.createElement("div",{className:vt.progressBar},o.createElement("div",{className:vt.track},o.createElement("div",{className:t,style:e}))))},t.contextType=m.f,t}(o.PureComponent),yt=n("k2TW");function Ct(e){var t=e.hasMarginMeter?o.createElement(gt,{usedMargin:e.usedMargin,availableMargin:e.availableMargin,progress:e.marginRatio,wait:e.status===m.h.Wait}):void 0;return o.createElement("div",{className:yt.orderInfo},o.createElement("div",{className:yt.title},e.title),o.createElement("div",{className:yt.contentWrapper},t,o.createElement(w.a,{textOutputs:e.textOutputs,disabled:e.status===m.h.Wait,rightAlignedValues:!0})))}var wt=function(e){function t(t){var n=e.call(this,t)||this;return n._callback=function(){return n.forceUpdate()},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this._subscribeToModel(this.props.model)},t.prototype.componentWillUnmount=function(){this._unsubscribeFromModel(this.props.model)},t.prototype.render=function(){var e=this.props.model,t=e.usedMargin().value(),n=e.availableMargin().value();return o.createElement(Ct,{title:e.title(),hasMarginMeter:e.hasMarginMeter(),usedMargin:t,availableMargin:n,marginRatio:Object(Oe.e)(t,n),textOutputs:e.textOutputs().value(),status:this.props.status})},t.prototype._subscribeToModel=function(e){e.availableMargin().subscribe(this._callback),e.usedMargin().subscribe(this._callback),e.textOutputs().subscribe(this._callback)},t.prototype._unsubscribeFromModel=function(e){e.availableMargin().unsubscribe(this._callback),e.usedMargin().unsubscribe(this._callback),e.textOutputs().unsubscribe(this._callback)},t}(o.PureComponent),kt=n("oiZD"),Et=n("zM7N"),Ot=n("OOXv");function Pt(e){var t=e.imageBlack,n=e.image,r=e.controls,i=e.text,s=e.title,a=Object(ee.a)({watchedValue:kt.watchedTheme});return o.createElement("div",{className:Ot.messageBlock},o.createElement("div",{className:Ot.image,dangerouslySetInnerHTML:{__html:void 0!==t&&a===Et.a.Dark?t:n}}),o.createElement("div",{className:Ot.title},s),o.createElement("div",{className:Ot.text,dangerouslySetInnerHTML:{__html:i||""}}),r&&o.createElement("div",{className:Ot.controls},r))}var Mt=n("ogJP"),St=n("+Kd2"),Nt=n("zS8N"),Tt=n("R1Qg"),xt=(n("ZYKY"),
n("BJPy")),Dt=Object(p.getLogger)("Trading.OrderPanel"),Bt=window.t("Quantity"),It=window.t("Amount"),Ft=window.t("Non tradable symbol"),Wt=(window.t("Log In"),window.t("Connect to broker"),window.t("Log into your TradingView account to trade"),window.t("Log into your broker/exchange account to trade"),window.t("Sign up"),window.t("Connect"),function(e){function t(t){var n=e.call(this,t)||this;n._block=null,n._orderWidgetWrapperBlock=null,n._button=null,n._resizeHandler=null,n._focusBlock=function(){null!==n._block&&n._block.focus()},n._onLayoutResizeHandleMousedown=function(e){if(!e.defaultPrevented&&e.cancelable){e.preventDefault();var t,r=Math.max(n._orderWidgetWrapperBlock?n._orderWidgetWrapperBlock.clientHeight:0,0);t="touches"in e?e.touches[0].clientY:e.clientY;var o=function(e){var o;e.preventDefault(),o="touches"in e?e.touches[0].clientY:e.clientY;var i=r+(o-t);i<445&&(i=445),n._requestHeight(i)},i=function(){document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o),document.removeEventListener("mouseup",i),document.removeEventListener("touchend",i),n._height&&Object(Mt.isInteger)(n._height)&&c.setValue(u.settingsKeys.PANEL_HEIGHT,n._height)};document.addEventListener("mousemove",o),document.addEventListener("touchmove",o,{passive:!1}),document.addEventListener("mouseup",i),document.addEventListener("touchend",i,{passive:!1})}},n._setButtonRef=function(e){n._button=e},n._setResizeHandlerRef=function(e){n._resizeHandler=e},n._setOrderWidgetWrapperRef=function(e){n._orderWidgetWrapperBlock=e},n._forceUpdateAndReCalculateBounds=function(){n.forceUpdate((function(){return n.props.popupController&&n.props.popupController.recalculateBounds()}))},n._onSelectTab=function(e){n.props.model.orderType.setValue(e)},n._onStatusChange=function(e){e===m.h.Wait&&n._block&&n._block.contains(document.activeElement)&&(d.isIE?HTMLElement.prototype.blur.call(document.activeElement):document.activeElement instanceof HTMLElement?document.activeElement.blur():Dt.logWarn("Failed to deselect: active element is not HTMLElement")),n._callback()},n._setRef=function(e){n._block=e},n._onKeyDown=function(e){13===e.keyCode&&!1===n.props.model.disabled.value()&&n._button&&(n._button.focus(),e.defaultPrevented||n._button.click())},n._handleClickSignIn=function(){showSignModal({source:"Trading panel",sourceMeta:"Chart"})},n._handleClickSignUp=function(){showSignModal({mode:"signup",source:"Trading panel",sourceMeta:"Chart"})},n._selectBroker=function(){n.props.model.noBroker&&n.props.model.selectBroker()},n._callback=function(){n.forceUpdate()};var r=parseInt(c.getValue(u.settingsKeys.PANEL_HEIGHT,""));return Object(Mt.isInteger)(r)&&(n._height=r),n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this._subscribeToModel(this.props.model),this.props.settings.subscribe(this._forceUpdateAndReCalculateBounds),null!==this._resizeHandler&&(this._resizeHandler.addEventListener("mousedown",this._onLayoutResizeHandleMousedown,{passive:!1}),
this._resizeHandler.addEventListener("touchstart",this._onLayoutResizeHandleMousedown,{passive:!1}))},t.prototype.componentWillUnmount=function(){this._unsubscribeFromModel(this.props.model),this.props.settings.unsubscribe(this._forceUpdateAndReCalculateBounds),null!==this._resizeHandler&&(this._resizeHandler.removeEventListener("mousedown",this._onLayoutResizeHandleMousedown),this._resizeHandler.removeEventListener("touchstart",this._onLayoutResizeHandleMousedown))},t.prototype.render=function(){var e=this.props,t=e.model,n=e.settings,r=e.trackEvent,i=this.context.mode,s=t.status.value(),c=s!==m.h.Wait?this.props.focus:void 0,u=this._quantityTitle(t),p=this._areBracketsSupported(t),d=this._isDurationSupported(t),f=this._isAmountEditable(t),v=a(xt.doneButton,i===m.g.Panel&&xt["button--panel"],(!d||2===t.orderType.value())&&xt.doneButtonBeforeBrackets),b=a(xt.header,t&&t.headerModel&&t.headerModel.hasBackButton.value()&&xt.headerWithBackButton),_={value:n.value(),setValue:n.setValue.bind(n)},g=t.limitPriceModel&&t.limitPriceModel.isRelativePriceControlHidden||t.stopPriceModel&&t.stopPriceModel.isRelativePriceControlHidden;var w=t.tradableSolution?o.createElement(C.Button,{onClick:t.tradableSolution.apply},t.tradableSolution.title):void 0,k=o.createElement(Pt,{image:Nt,imageBlack:Tt,title:Ft,text:t.notTradableText,controls:w}),E={};i===m.g.Panel&&null!==t.orderInfoModel&&this._height&&(E.height=this._height),t.needSignIn,t.noBroker,t.notTradableText&&k&&(E.flexGrow=1);var O=o.createElement(o.Fragment,null,t.sideModel&&o.createElement("div",{className:xt.side},o.createElement(y,{model:t.sideModel,disabled:t.existingOrder})),t.limitPriceModel&&t.stopPriceModel&&o.createElement(W,{activeTab:t.orderType.value(),disabled:t.existingOrder,supportMarketOrders:t.supportMarketOrders,supportLimitOrders:t.supportLimitOrders,supportStopOrders:t.supportStopOrders,supportStopLimitOrders:t.supportStopLimitOrders,onSelect:this._onSelectTab}),t.limitPriceModel&&t.stopPriceModel&&t.quantityModel&&o.createElement("div",{className:a(xt.centerBlock)},2!==t.orderType.value()&&o.createElement($e,{model:t,trackEvent:r,focus:c}),2!==t.orderType.value()&&o.createElement("div",{className:xt.separator}),f?o.createElement("div",{className:xt.quantityBracketsWrapper},o.createElement(o.Fragment,null,o.createElement("div",{className:xt.title},u),t.supportCryptoExchangeOrderTicket?o.createElement(ce,{model:t.quantityModel,className:xt.controlGroup,focus:c}):o.createElement(Z,{model:t.quantityModel,className:xt.controlGroup,symbolHasLotSize:t.symbolHasLotSize,trackEvent:r,focus:c})),p&&o.createElement(o.Fragment,null,o.createElement("div",{className:xt.separator}),o.createElement(j.a,{model:t,focus:c}))):p&&o.createElement("div",{className:xt["brackets-wrapper"]},o.createElement("div",{className:xt.separator}),o.createElement(j.a,{model:t,focus:c})),Array.isArray(t.customFieldModels.value())&&t.customFieldModels.value().length>0&&o.createElement("div",{className:a(xt.customFieldsWrapper,p&&xt.customFieldWrapperBeforeBrackets)
},this._generateCustomFields(t),o.createElement("div",{className:xt.separator})),d&&t.durationModel&&(t.durationForMarketOrders||2!==t.orderType.value())&&o.createElement("div",{className:xt.duration},o.createElement(ft,{onClose:this._focusBlock,model:t.durationModel}))),t.buttonModel&&o.createElement("div",{className:v},o.createElement(et.a,{model:t,reference:this._setButtonRef})));return o.createElement(Y.a.Provider,{value:_},o.createElement("div",{className:a(xt.orderWidget),onKeyDown:this._onKeyDown,tabIndex:-1,ref:this._setRef},o.createElement("div",{ref:this._setOrderWidgetWrapperRef,className:a(xt.orderWidgetWrapper,i===m.g.Panel&&xt["orderWidgetWrapper--inPanel"]),style:E},t.headerModel&&o.createElement("div",{className:b},o.createElement(h.a,{model:t.headerModel,showQuantityInsteadOfAmount:t.showQuantityInsteadOfAmount,currency:t.currency,supportBrackets:t.supportBrackets,supportOrderPreview:t.supportOrderPreview,hideRelativePriceSettingsItem:g,mode:i})),t.needSignIn&&void 0,t.noBroker&&void 0,t.notTradableText&&k,t.supportOrderPreview&&s===m.h.Preview&&null!==t.orderPreviewModel?o.createElement(M,{model:t.orderPreviewModel,side:t.side(),loading:t.loading}):O),i===m.g.Panel&&null!==t.orderInfoModel&&o.createElement("div",{className:xt.orderInfoAndSeparatorWrapper},o.createElement(o.Fragment,null,o.createElement("div",{className:xt.separator}),o.createElement("div",{className:xt.resizeHandler,ref:this._setResizeHandlerRef})),s!==m.h.Preview&&l.enabled("order_info")&&o.createElement("div",{className:xt.orderInfo,"data-name":"order-info"},o.createElement(wt,{model:t.orderInfoModel,status:s})))))},t.prototype._requestHeight=function(e){this._orderWidgetWrapperBlock&&(this._height=e,this._callback())},t.prototype._subscribeToModel=function(e){e.orderType.subscribe(this._forceUpdateAndReCalculateBounds),e.status.subscribe(this._onStatusChange),e.customFieldModels.subscribe(this._callback)},t.prototype._unsubscribeFromModel=function(e){e.orderType.unsubscribe(this._forceUpdateAndReCalculateBounds),e.status.unsubscribe(this._onStatusChange),e.customFieldModels.unsubscribe(this._callback)},t.prototype._quantityTitle=function(e){return e.showQuantityInsteadOfAmount?Bt:It},t.prototype._areBracketsSupported=function(e){var t=Boolean(2===this.props.model.orderType.value()&&e.supportMarketBrackets||2!==this.props.model.orderType.value());return Boolean(e.supportBrackets&&t)},t.prototype._isDurationSupported=function(e){return Boolean(e.durationModel&&(!e.existingOrder||e.existingOrder&&e.supportModifyDuration))},t.prototype._isAmountEditable=function(e){return!1===e.existingOrder||Boolean(e.existingOrder&&e.supportEditAmount)},t.prototype._generateCustomFields=function(e){var t=this._areBracketsSupported(e),n=this._isDurationSupported(e);return Object(St.a)(e.customFieldModels.value(),!0===t||!1===n,e.status,xt.customField,this._focusBlock)},t.contextType=m.f,t}(o.PureComponent)),jt=n("bWo7"),Rt=function(e){function t(t){var n=e.call(this,t)||this;return n._onKeyDown=function(e){
27===e.keyCode&&n.props.onCancel&&n.props.onCancel()},n}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement("div",{className:jt.orderPanel,onKeyDown:this._onKeyDown},o.createElement(Wt,{model:this.props.model,settings:this.props.settings,key:this.props.model.id,trackEvent:this.props.trackEvent,focus:this.props.focus}))},t}(o.PureComponent),Ht=n("AVTG"),Vt=n("WXjp"),zt=n("pafz"),Lt=n("H3n3"),At=function(e){function t(t){var n=e.call(this,t)||this;return n._renderWidget=function(e){return o.createElement(Wt,{settings:Object(E.ensureDefined)(n.props.settings),model:Object(E.ensureNotNull)(n.props.model),key:Object(E.ensureNotNull)(n.props.model).id,trackEvent:n.props.trackEvent,focus:n.props.focus,popupController:e})},n._onKeyDown=function(e){27===e.keyCode&&n.props.onClose&&n.props.onClose()},n}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(Vt.a,{className:Lt.dialog,isOpened:this.props.isOpened,onKeyDown:this._onKeyDown},o.createElement(Ht.a,{className:Lt.dialogBody},this.props.model&&this.props.settings&&o.createElement(zt.a.Consumer,null,this._renderWidget)))},t}(o.PureComponent);n.d(t,"showOrderDialog",(function(){return qt})),n.d(t,"closeOrderDialog",(function(){return Kt})),n.d(t,"mountOrderPanel",(function(){return Yt})),n.d(t,"unmountOrderPanel",(function(){return Qt}));var Ut=null;function qt(e,t,n,r){Kt();var o={model:e,settings:t,isOpened:!0,onClose:function(){Kt(),e.onDoneButtonClicked.reject(),o.model.headerModel&&(o.model.headerModel.pinButtonClicked().unsubscribe(null,o.onClose),o.model.headerModel.closeButtonClicked().unsubscribe(null,o.onClose)),Ut&&s.unmountComponentAtNode(Ut)},trackEvent:r,focus:n||Jt(e.orderType.value())};Gt(o),o.model.headerModel&&(o.model.headerModel.pinButtonClicked().subscribe(null,o.onClose),o.model.headerModel.closeButtonClicked().subscribe(null,o.onClose))}function Kt(){Gt({model:null,isOpened:!1})}function Gt(e){null===Ut&&(Ut=document.createElement("div"),document.body.appendChild(Ut));var t=o.createElement(m.f.Provider,{value:{mode:e.model&&e.model.mode.value()||m.g.Panel,supportTrailingStop:Boolean(e.model&&e.model.supportTrailingStop)}},o.createElement(At,Object(r.__assign)({},e)));s.render(t,Ut)}function Yt(e,t,n,i,a,c){Qt(n);var l={model:e,settings:t,onClose:function(){Qt(n),l.model.headerModel&&(l.model.headerModel.pinButtonClicked().unsubscribe(null,l.onClose),l.model.headerModel.closeButtonClicked().unsubscribe(null,l.onClose))},onCancel:function(){l.model.headerModel&&l.model.headerModel.cancel()},trackEvent:c,focus:a||Jt(e.orderType.value())};l.model.headerModel&&(l.model.headerModel.pinButtonClicked().subscribe(null,l.onClose),l.model.headerModel.closeButtonClicked().subscribe(null,l.onClose)),function(e,t,n){var i=o.createElement(m.f.Provider,{value:{resizerWidth:n||null,mode:e.model.mode.value(),supportTrailingStop:Boolean(e.model.supportTrailingStop)}},o.createElement(Rt,Object(r.__assign)({},e)));s.render(i,t)}(l,n,i)}function Qt(e){s.unmountComponentAtNode(e)}function Jt(e){var t
;switch(e){case 2:t=5;break;case 1:case 4:t=1;break;case 3:t=2;break;default:t=void 0}return t}},K3s3:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p}));var r=n("mrSG"),o=n("q1tI"),i=n("TSYQ"),s=n("Eyy1"),a=n("5o6O"),c=a;function l(e){var t,n=i(e.className,a.tab,((t={})[a.active]=e.isActive,t[a.disabled]=e.isDisabled,t[a.defaultCursor]=!!e.shouldUseDefaultCursor,t[a.noBorder]=!!e.noBorder,t));return o.createElement("div",{className:n,onClick:e.onClick,ref:e.reference},e.children)}function u(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeTab={current:null},e}return Object(r.__extends)(n,t),n.prototype.componentDidUpdate=function(){Object(s.ensureNotNull)(this._slider).style.transition="transform 350ms",this._componentDidUpdate()},n.prototype.componentDidMount=function(){this._componentDidUpdate()},n.prototype.render=function(){var t=this,n=this.props.className,r=this._generateTabs();return o.createElement("div",{className:i(n,a.tabs),"data-name":this.props["data-name"]},r,o.createElement(e,{reference:function(e){t._slider=e}}))},n.prototype._generateTabs=function(){var e=this;return this.activeTab.current=null,o.Children.map(this.props.children,(function(t){var n=t,r=Boolean(n.props.isActive),i={reference:function(t){r&&(e.activeTab.current=t),n.props.reference&&n.props.reference(t)}};return o.cloneElement(n,i)}))},n.prototype._componentDidUpdate=function(){var e=Object(s.ensureNotNull)(this._slider).style;if(this.activeTab.current){var t=this.activeTab.current.offsetWidth,n=this.activeTab.current.offsetLeft;e.transform="translateX("+n+"px)",e.width=t+"px",e.opacity="1"}else e.opacity="0"},n}(o.PureComponent)}var p=u((function(e){return o.createElement("div",{className:a.slider,ref:e.reference})}))},L2Pi:function(e,t,n){e.exports={content:"content-1YIBf3lR",separator:"separator-1mSMdjab",controls:"controls-IDE4AP5A",button:"button-2Uy9pQhh",warning:"warning-3J0Fpebm"}},O8MG:function(e,t,n){e.exports={progressBarContainer:"progressBarContainer-2UzV2-rl",marginsContainer:"marginsContainer-2YIEgu1y",usedMargin:"usedMargin-Occd5_wD",availableMargin:"availableMargin-1UzX-4qn",progressBar:"progressBar-1rAeuakE",track:"track-34r9IyTR",progress:"progress-4fCnvrOH",fullFilled:"fullFilled-ESXQE67E",marginOverflow:"marginOverflow-mEYE0qUu",wait:"wait-3dngfMo8"}},OOXv:function(e,t,n){e.exports={messageBlock:"messageBlock-33ZJuSuw",image:"image-1X1YSRqq",title:"title-2T3HPzlr",text:"text-ym4mcjNF",controls:"controls-2k57sohD"}},QAe6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),o=function(e){var t=Object(r.useState)(e.value()),n=t[0],o=t[1];return Object(r.useEffect)((function(){var t=function(e){return o(e)};return e.subscribe(t),function(){return e.unsubscribe(t)}}),[e]),[n,function(t){return e.setValue(t)}]}},R1Qg:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><g clip-path="url(#adgm1bxe3)"><path fill="#2A2E39" fill-rule="evenodd" clip-rule="evenodd" d="M103.54 47.03a4.78 4.78 0 0 0-1.73 4.07c.98 10.62-2.18 22.78-9.61 33.6-14.03 20.43-37.97 28.36-53.47 17.72s-16.7-35.83-2.67-56.26c8.1-11.81 19.52-19.44 30.71-21.73a4.79 4.79 0 0 0 3.4-2.8c.64-1.47 1.43-2.9 2.38-4.28 7.3-10.5 21.14-13.47 30.93-6.62 9.78 6.85 11.8 20.91 4.52 31.42-1.3 1.87-2.8 3.5-4.46 4.88z"/><rect width="80" height="58" fill="#121722" stroke="#B2B5BE" stroke-width="2" rx="7" x="20" y="26"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="2" d="M6 90h106"/><path fill="#B2B5BE" fill-rule="evenodd" clip-rule="evenodd" d="M48.53 50.6L52 54.05 53.06 53l-3.47-3.47 3.47-3.47L52 45l-3.47 3.47L45.06 45 44 46.06l3.47 3.47L44 53l1.06 1.06 3.47-3.47zM72.53 50.6L76 54.05 77.06 53l-3.47-3.47 3.47-3.47L76 45l-3.47 3.47L69.06 45 68 46.06l3.47 3.47L68 53l1.06 1.06 3.47-3.47z"/><path stroke="#B2B5BE" stroke-width="1.5" d="M51 64.5h17"/></g></svg>'},R36R:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><g fill="currentColor" stroke="none"><path d="M3 10h18v2H3z"/><path d="M11 2h2v18h-2z"/></g></svg>'},RRM5:function(e,t,n){e.exports={relativePriceDropdownItem:"relativePriceDropdownItem-P03SLjrk",price:"price-11oGShsY"}},TZdo:function(e,t,n){e.exports={tabsContainer:"tabsContainer-2bXPFXPx",moreThen3Types:"moreThen3Types-h2ltwgD5",separator:"separator-30l4KVu0"}},V1pJ:function(e,t,n){e.exports={wrapper:"wrapper-IKYJbhdS",control:"control-3aOSqN3K",label:"label-1Ma4eT-g",units:"units-3uGpy-z-",input:"input-2phQofvc",single:"single-3bfv56uL",error:"error-2qSitF5j",highlightedInactive:"highlightedInactive-3b94aIr3",calculatorIcon:"calculatorIcon-1fJ_ur2m",isOpened:"isOpened-1BamcDLy",risk:"risk-2eRxx8ye",highlighted:"highlighted-17dBSMuc",riskControlWrapper:"riskControlWrapper-9R1cwt3z",wait:"wait-dO-nc11W"}},V6cB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=n("mrSG"),o=n("q1tI"),i=n("TSYQ"),s=n("4vL2"),a=n("2A9e");n("+l/S"),t.Button=function(e){var t=e.className,n=e.intent,c=e.size,l=e.appearance,u=e.disabled,p=e.useFullWidth,d=e.reference,h=e.icon,m=e.children,f=e.tabIndex,v=r.__rest(e,["className","intent","size","appearance","disabled","useFullWidth","reference","icon","children","tabIndex"]),b=s.getButtonClasses(a,{intent:n,size:c,appearance:l,disabled:u,useFullWidth:p,tabIndex:f,icon:h});return o.createElement("button",r.__assign({className:i(b,t),disabled:u,ref:d,tabIndex:f},v),h&&"s"!==c&&o.createElement("span",{className:a.icon},h),o.createElement("span",{className:a.content},m))}},"VGf/":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 7" width="11" height="7" fill="none"><path stroke="currentColor" stroke-width="1.3" d="M.5 1.5l5 4 5-4"/></svg>'},WUqb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))
;var r,o=n("mrSG"),i=n("q1tI");!function(e){e[e.Enter=13]="Enter",e[e.Space=32]="Space",e[e.Backspace=8]="Backspace",e[e.DownArrow=40]="DownArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.LeftArrow=37]="LeftArrow",e[e.Escape=27]="Escape",e[e.Tab=9]="Tab"}(r||(r={}));var s=function(){function e(){this._handlers=new Map}return e.prototype.registerHandlers=function(e){var t=this;Object.keys(e).forEach((function(n){var r=parseInt(n),o=e[r];if(Array.isArray(o)||(o=[o]),t._handlers.has(r)){var i=t._handlers.get(r);i&&o.forEach((function(e){return i.add(e)}))}else t._handlers.set(r,new Set(o))}))},e.prototype.unregisterHandlers=function(e){var t=this;Object.keys(e).forEach((function(n){var r=parseInt(n),o=e[r];if(Array.isArray(o)||(o=[o]),t._handlers.has(r)){var i=t._handlers.get(r);i&&o.forEach((function(e){return i.delete(e)}))}}))},e.prototype.deleteAllHandlers=function(){this._handlers=new Map},e.prototype.registerHandler=function(e,t){if(this._handlers.has(e)){var n=this._handlers.get(e);n&&n.add(t)}else this._handlers.set(e,new Set([t]))},e.prototype.unregisterHandler=function(e,t){if(this._handlers.has(e)){var n=this._handlers.get(e);n&&n.delete(t)}},e.prototype.listen=function(e){if(this._handlers.has(e.keyCode)){var t=this._handlers.get(e.keyCode);t&&t.forEach((function(t){return t(e)}))}},e}();function a(e){return function(t){function n(e){var n=t.call(this,e)||this;return n._keyboardListener=new s,n._listener=n._keyboardListener.listen.bind(n._keyboardListener),n}return Object(o.__extends)(n,t),n.prototype.componentDidMount=function(){this._registerHandlers(this.props.keyboardEventHandlers)},n.prototype.componentWillReceiveProps=function(e){this.props.keyboardEventHandlers!==e.keyboardEventHandlers&&this._registerHandlers(e.keyboardEventHandlers)},n.prototype.render=function(){return i.createElement(e,Object(o.__assign)({},this.props,{onKeyDown:this._listener}))},n.prototype._registerHandlers=function(e){e&&(this._keyboardListener.deleteAllHandlers(),this._keyboardListener.registerHandlers(e))},n}(i.PureComponent)}},"X6/E":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 19" width="15" height="19"><path fill="currentColor" d="M2 0h11a2 2 0 0 1 2 2v15a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm-8 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm-8 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM3 2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3z"/></svg>'},ZYKY:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 76" width="132" height="76" fill="none"><mask fill="#fff" id="a"><path fill-rule="evenodd" clip-rule="evenodd" d="M114 76H24C10.745 76 0 65.255 0 52s10.745-24 24-24l.247.002C26.215 12.214 39.681 0 56 0c14.582 0 26.886 9.753 30.744 23.093A21.896 21.896 0 0 1 98 20c11.821 0 21.464 9.323 21.979 21.017C126.981 43.48 132 50.155 132 58c0 9.265-7 16.895-16 17.89V76h-2z"/></mask><path fill="currentColor" d="M24 28l.012-2H24v2zm.247.002l-.012 2 1.777.01.22-1.763-1.985-.247zm62.497-4.909l-1.921.556.72 2.49 2.226-1.328-1.025-1.718zm33.235 17.924l-1.999.087.06 1.35 1.274.45.665-1.887zM116 75.89l-.22-1.988-1.78.197v1.791h2zm0 .11v2h2v-2h-2zm-2-2H24v4h90v-4zm-90 0C11.85 74 2 64.15 2 52h-4c0 14.36 11.64 26 26 26v-4zM2 52c0-12.15 9.85-22 22-22v-4C9.64 26-2 37.64-2 52h4zm21.988-22l.247.001.024-4-.247-.001-.024 4zm2.244-1.751C28.077 13.45 40.702 2 56 2v-4C38.66-2 24.354 10.98 22.263 27.754l3.969.495zM56 2c13.668 0 25.206 9.142 28.823 21.649l3.842-1.111C84.567 8.365 71.497-2 56-2v4zm31.769 22.81A19.896 19.896 0 0 1 98 22v-4a23.896 23.896 0 0 0-12.28 3.376l2.049 3.435zM98 22c10.745 0 19.513 8.475 19.98 19.105l3.997-.176C121.415 28.17 110.896 18 98 18v4zm21.314 20.903C125.541 45.095 130 51.03 130 58h4c0-8.72-5.58-16.132-13.357-18.87l-1.329 3.773zM130 58c0 8.234-6.222 15.018-14.22 15.902l.44 3.976C126.222 76.772 134 68.296 134 58h-4zm-16 17.89V76h4v-.11h-4zm2-1.89h-2v4h2v-4z" mask="url(#a)"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M60 51.659a6 6 0 1 0-4 0V57a2 2 0 0 0 4 0v-5.341z"/></svg>'},bWo7:function(e,t,n){e.exports={panelContainer:"panelContainer-2GRNIJHU",orderPanel:"orderPanel-2QLpCQWj"}},"e95/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnchorButton=void 0;var r=n("mrSG"),o=n("q1tI"),i=n("TSYQ"),s=n("4vL2"),a=n("2A9e");n("+l/S"),t.AnchorButton=function(e){var t=e.className,n=e.intent,c=e.size,l=e.appearance,u=e.disabled,p=e.useFullWidth,d=e.reference,h=e.icon,m=e.children,f=e.href,v=e.tabIndex,b=r.__rest(e,["className","intent","size","appearance","disabled","useFullWidth","reference","icon","children","href","tabIndex"]),_=s.getButtonClasses(a,{intent:n,size:c,appearance:l,disabled:u,useFullWidth:p,tabIndex:v,icon:h});return o.createElement("a",r.__assign({className:i(t,_),href:u?void 0:f,"aria-disabled":u,ref:d,tabIndex:v},b),h&&"s"!==c&&o.createElement("span",{className:a.icon},h),o.createElement("span",{className:a.content},m))}},eGEP:function(e,t,n){e.exports={wrapper:"wrapper-3hfPpaO_",input:"input-2tUPcU2e",label:"label-2L-Sqpod",error:"error-wSfGnVOW",highlightedInactive:"highlightedInactive-1Jo2p4AB",wait:"wait-2_W6MroM",popupMenuItem:"popupMenuItem-F3VEKvNY",value:"value-r6o6C1OR"}},gla1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),o=function(){return Object(r.useReducer)((function(e,t){return e+1}),0)[1]}},h6kW:function(e,t,n){"use strict"
;var r=n("mrSG"),o=n("q1tI"),i=n("nc0P"),s=n("0rc0"),a=n("9dlw"),c=n("DTHj"),l=n("nPPD"),u=n("Iivm"),p=n("j0sD"),d=n("R36R"),h=n("9E2J"),m=n("0oEL"),f=n("sgDj"),v=n("schn");function b(e){var t=o.createElement(u.Icon,{className:v.buttonIcon,icon:h}),n=o.createElement(u.Icon,{className:v.buttonIcon,icon:d}),r=o.createElement(u.Icon,{className:v.buttonIcon,icon:m}),i=o.createElement(u.Icon,{className:v.buttonIcon,icon:f});return o.createElement("div",{className:v.calculator,tabIndex:-1,ref:e.reference,onFocus:e.onFocus},o.createElement(p.a,{value:-e.step,type:p.b.IncDec,icon:t,onClick:e.onClick}),o.createElement(p.a,{value:e.step,type:p.b.IncDec,icon:n,onClick:e.onClick}),o.createElement(p.a,{value:1,type:p.b.PlusValue,onClick:e.onClick}),o.createElement(p.a,{value:5,type:p.b.PlusValue,onClick:e.onClick}),o.createElement(p.a,{value:25,type:p.b.PlusValue,onClick:e.onClick}),o.createElement(p.a,{value:100,type:p.b.PlusValue,onClick:e.onClick}),o.createElement(p.a,{value:500,type:p.b.PlusValue,onClick:e.onClick}),o.createElement(p.a,{value:1e3,type:p.b.PlusValue,onClick:e.onClick}),o.createElement(p.a,{value:0,type:p.b.Clear,icon:r,onClick:e.onClick}),o.createElement(p.a,{value:e.min||e.step,type:p.b.Default,icon:i,onClick:e.onClick}))}var _=n("48L3");n.d(t,"a",(function(){return y}));var g=Object(l.a)(c.a,{menuBox:_.menuBox}),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._setCalcRef=function(e){t.props.calcReference&&t.props.calcReference(e)},t._calculatorStepHandler=function(e,n){var r=t.props,o=r.min,i=r.max,a=r.trackEventTarget,c=r.trackEvent;if(void 0!==c&&void 0!==a&&c(a,"Calculator Button",Object(s.u)(e,n)),n===p.b.Clear||n===p.b.Default)return t._updateValueByCalc(e);var l=t.props.valueGetter();if(null!==l){var u=l+e;if((u<o||i<u)&&n!==p.b.IncDec)return t._updateValueByCalc(l);if(n===p.b.IncDec){if(i<(u=t._calcByStep(l,e)))return t._updateValueByCalc(i);if(u<o)return t._updateValueByCalc(o)}return t._updateValueByCalc(u)}},t._updateValueByCalc=function(e){t.props.onValueChange(e,!0),t.props.calculatorUsedStat&&t.props.calculatorUsedStat()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.min,n=e.step,r=e.targetEl,i=e.position,s=e.onFocus,c=e.onClose;return o.createElement(a.a,{isOpened:!0,onClose:c,position:i,doNotCloseOn:r,theme:g},o.createElement(b,{min:t,step:n,onClick:this._calculatorStepHandler,onFocus:s,reference:this._setCalcRef}))},t.prototype._calcByStep=function(e,t){var n=Math.sign(t);t=Math.abs(t);var r,o=new i.Big(e),s=new i.Big(t),a=o.mod(s);return r=a.eq(0)?o.plus(n*t):o.plus(n*t).plus((n>0?0:1)*t).minus(a),Number(r)},t}(o.PureComponent)},iZFA:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),o=n.n(r),i=n("TSYQ"),s=n.n(i),a=n("Iivm"),c=n("VGf/"),l=n("uhWF");function u(e){return o.a.createElement("span",{className:l.wrapper,onClick:e.onClick},o.a.createElement("span",{className:l.button},o.a.createElement(a.Icon,{className:s()(l.icon,e.isDropped&&l.dropped),icon:c})))}},k2TW:function(e,t,n){e.exports={
orderInfo:"orderInfo-2Hj6-cYK",title:"title-2ACvP8Dj",contentWrapper:"contentWrapper-1sTVdn2l",right:"right-1W51QeYF"}},mwqF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG");r.__exportStar(n("V6cB"),t),r.__exportStar(n("e95/"),t)},pKbH:function(e,t,n){e.exports={sideControl:"sideControl-2oXIf6EZ",section:"section-3MfYUJOf",active:"active-FRHydCOR",sell:"sell-ykfyDrcj",buy:"buy-3HuKjxF-",wait:"wait-2DfyH4ZO",title:"title-3dSfvTFy",typeSide:"typeSide-SSqYZpqx",value:"value-M4_Dls7U",valueNoData:"valueNoData-ucfFUNNG",spread:"spread-3GnlGVpC",isLongValue:"isLongValue-3l6vn8JU",disable:"disable-28AHfUgY"}},schn:function(e,t,n){e.exports={"css-value-calculator-width":"150px",calculator:"calculator-77c-GZr5",buttonIcon:"buttonIcon-2Ma6bzn3"}},sgDj:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><g fill="none"><path stroke="currentColor" stroke-width="2" d="M4 12.5A7.5 7.5 0 1 0 11.5 5h-6"/><path fill="currentColor" d="M3 5l4-4v8z"/></g></svg>'},tTUf:function(e,t,n){e.exports={absolutePriceControl:"absolutePriceControl-uLXQkgxA",priceLabel:"priceLabel-2kUzPOVO",openButton:"openButton-39taZ464",iconWrapper:"iconWrapper-1FcljkyE",openIcon:"openIcon-23_1vNRW",wait:"wait-1AhWjOdM",opened:"opened-1rRnuMNw",list:"list-3JNUkHkz",item:"item-1Vey2uzE",selected:"selected-1f5ZyQeD"}},uhWF:function(e,t,n){e.exports={wrapper:"wrapper-CRZXrxS2",hidden:"hidden-1wnB-Kx5",button:"button-1Eugtpck",icon:"icon-17-1vCIN",dropped:"dropped-ecaUHMhj"}},vqb8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),o=function(e){var t="watchedValue"in e?e.watchedValue:void 0,n="defaultValue"in e?e.defaultValue:e.watchedValue.value(),o=Object(r.useState)(t?t.value():n),i=o[0],s=o[1];return Object(r.useEffect)((function(){if(t){s(t.value());var e=function(e){return s(e)};return t.subscribe(e),function(){return t.unsubscribe(e)}}return function(){}}),[t]),i}},vwxn:function(e,t,n){e.exports={relativePriceControl:"relativePriceControl-2D5_0KF4",pipsLabel:"pipsLabel-3aNbFmnw",openButton:"openButton-r_JmGebz",iconWrapper:"iconWrapper-ZWhNeJxv",openIcon:"openIcon-2FnsFwL5",wait:"wait-dLX9ZJ4I",opened:"opened-2RdtMkXb",list:"list-jPfYPULi",item:"item-3RitS1Ij",selected:"selected-3Sqra9uu"}},xT4p:function(e,t,n){e.exports={duration:"duration-2jJM5fvV",container:"container-xVSrlojA",typeSelector:"typeSelector-2SAnfJBX",timeSelector:"timeSelector-yuE4Dlc7",editWrapper:"editWrapper-3UQ7pdRc",dateTimeWrapper:"dateTimeWrapper-3e5COnT3",buttonBlock:"buttonBlock-14BBoq32",buttonWrapper:"buttonWrapper-3cP-zDem",calendar:"calendar-2u-94XzL",clock:"clock-3yvOF1q8",button:"button-19d7C_az"}},zS8N:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><g clip-path="url(#ayusj0oi1)"><path fill="#F0F3FA" fill-rule="evenodd" clip-rule="evenodd" d="M103.54 47.03a4.78 4.78 0 0 0-1.73 4.07c.98 10.62-2.18 22.78-9.61 33.6-14.03 20.43-37.97 28.36-53.47 17.72s-16.7-35.83-2.67-56.26c8.1-11.81 19.52-19.44 30.71-21.73a4.79 4.79 0 0 0 3.4-2.8c.64-1.47 1.43-2.9 2.38-4.28 7.3-10.5 21.14-13.47 30.93-6.62 9.78 6.85 11.8 20.91 4.52 31.42-1.3 1.87-2.8 3.5-4.46 4.88z"/><rect width="80" height="58" fill="#fff" stroke="#1E222D" stroke-width="2" rx="7" x="20" y="26"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="2" d="M6 90h106"/><path fill="#000" fill-rule="evenodd" clip-rule="evenodd" d="M48.53 50.6L52 54.05 53.06 53l-3.47-3.47 3.47-3.47L52 45l-3.47 3.47L45.06 45 44 46.06l3.47 3.47L44 53l1.06 1.06 3.47-3.47zm24 0L76 54.05 77.06 53l-3.47-3.47 3.47-3.47L76 45l-3.47 3.47L69.06 45 68 46.06l3.47 3.47L68 53l1.06 1.06 3.47-3.47z"/><path stroke="#000" stroke-width="1.5" d="M51 64.5h17"/></g></svg>'}}]);