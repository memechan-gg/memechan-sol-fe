(window.webpackJsonp=window.webpackJsonp||[]).push([["terminal-configset"],{"5bCf":function(e,t,n){e.exports={container:"container-2MDVNuHv",active:"active-2lnjQ_YF",title:"title-2bqB2fd8",inactive:"inactive-1fcEXv__",titleText:"titleText-qKRHsnHz",indicator:"indicator-mWXMWRtP",disconnected:"disconnected-2k_ljy9z",failed:"failed-3MrYQ2Ho",connecting:"connecting-ny9eVv2c",connected:"connected-2I5niJBg",loginTooltip:"loginTooltip-2A7vTLTC"}},Bf1h:function(e,t,n){"use strict";n.r(t);n("YFKU");var i,r,o={paper_trading:{name:"paper_trading",title:window.t("Trading Panel"),buttonOpenTooltip:window.t("Open Trading Panel"),buttonCloseTooltip:window.t("Close Trading Panel"),ctor:null,_gaEvent:"Trading Panel"},scripteditor:{name:"scripteditor",title:window.t("Pine Editor"),buttonOpenTooltip:window.t("Open Pine Script Editor"),buttonCloseTooltip:window.t("Close Pine Script Editor"),ctor:null,_gaEvent:"Pine Editor"},backtesting:{name:"backtesting",title:window.t("Strategy Tester"),buttonOpenTooltip:window.t("Open Strategy Tester"),buttonCloseTooltip:window.t("Close Strategy Tester"),ctor:null,_gaEvent:"Strategy Tester"},screener:{name:"screener",title:window.t("Screener"),buttonOpenTooltip:window.t("Open Screener"),buttonCloseTooltip:window.t("Close Screener"),ctor:null,_gaEvent:"Screener"},text_notes:{name:"text_notes",title:window.t("Text Notes"),buttonOpenTooltip:window.t("Open Text Notes Panel"),buttonCloseTooltip:window.t("Close Text Notes Panel"),ctor:null,_gaEvent:"Text Notes"}},a=n("N22A"),c=n("hY0g"),s=n.n(c),l=function(){function e(e){var t=this;this._contentRenderer=Promise.resolve(),this._spinnerContainer=document.createElement("div"),this._renderer=Promise.resolve(),this._filter=new s.a(!0),this._bridge=e,Object(a.waitTradingService)().then((function(e){t._trading=e,t.onStatusChange(e.connectStatus()),t._trading.onConnectionStatusChange.subscribe(t,t.onStatusChange)})),Promise.all([n.e("react"),n.e("spinner-renderer")]).then(n.bind(null,"lG9f")).then((function(e){e.render(t._spinnerContainer)})),Promise.all([n.e("react"),n.e(10),n.e(136),n.e("broker-select-screen")]).then(n.bind(null,"Azu3"))}return e.prototype.activate=function(){var e=this;this._contentRenderer.then((function(){e._content&&e._content.drawAttention&&e._content.drawAttention()}))},e.prototype.onStatusChange=function(e,t){this._contentRenderer=Promise.resolve(),this._content&&this._content.remove(),2===e&&(this._content=this._bridge.container.appendChild(this._spinnerContainer)),3!==e&&4!==e||this._renderBrokerSelectScreen(),1===e&&this._renderAccountManager(this._trading.activeBroker())},e.prototype._renderAccountManager=function(e){var t=this;this._renderer=this._contentRenderer=Promise.all([n.e("react"),n.e(1),n.e(3),n.e(5),n.e(16),n.e(26),n.e(30),n.e(40),n.e(65),n.e(67),n.e(122),n.e(0),n.e(2),n.e(28),n.e(59),n.e(36),n.e(85),n.e(82),n.e("trading-account-manager")]).then(n.t.bind(null,"l6K7",7)).then((function(n){t._contentRenderer===t._renderer&&(t._content&&t._content.remove(),t._content=new n.AccountManager(e,t._bridge))}))},
e.prototype._renderBrokerSelectScreen=function(){var e=this;this._renderer=this._contentRenderer=Promise.all([n.e("react"),n.e(10),n.e(136),n.e("broker-select-screen")]).then(n.bind(null,"Azu3")).then((function(t){e._content&&e._content.remove(),e._contentRenderer===e._renderer&&(e._content=new t.BrokerSelectScreenRenderer(e._bridge.bottomAreaContainer,e._bridge.container,e._bridge.visible,e._trading,e._filter))}))},e}(),d=n("mrSG"),u=n("q1tI"),_=n("TSYQ"),p=n("Kxc7"),g=n.n(p),h=n("b5Gw"),b=n("4qhP"),v=n("5bCf"),w=window.t("Trading Panel"),m=window.t("Account Manager"),C=((i={})[4]="failed",i[2]="connecting",i[1]="connected",i[3]="disconnected",i),T=((r={})[4]=window.t("Failed"),r[2]=window.t("Connecting"),r[1]=window.t("Connected"),r[3]=window.t("Disconnected"),r),S=function(e){function t(t){var n=e.call(this,t)||this;return n._trading=null,n._tradingServiceCancelable=null,n._titleClick=function(){var e=n.props.onClick;e&&e()},n.state={status:3,hasActiveBroker:!1,title:g.a.enabled("trading_terminal")?m:w},n}return Object(d.__extends)(t,e),t.prototype.componentDidMount=function(){if(!g.a.enabled("trading_terminal")){var e=Object(a.tradingService)();null===e?(this._tradingServiceCancelable=Object(h.makeCancelable)(Object(a.waitTradingService)()),this._tradingServiceCancelable.promise.then(this._onTradingService.bind(this))):this._onTradingService(e)}},t.prototype.componentWillUnmount=function(){g.a.enabled("trading_terminal")||(this._cancelWaitingTrading(),null!==this._trading&&(this._trading.onBrokerChange.unsubscribe(this,this._update),this._trading.onConnectionStatusChange.unsubscribe(this,this._update)))},t.prototype.render=function(){var e,t=this.state,n=t.status,i=t.hasActiveBroker,r=t.title;return u.createElement("div",{className:_(b.bottomTradingTabClassName,v.container,v[C[n]],(e={},e[v.active]=this.props.isActive,e[v.inactive]=!i,e)),onClick:this._titleClick,"data-name":this.props.dataName,"data-active":this.props.isActive},u.createElement("span",{className:v.title},u.createElement("span",{className:v.titleText},r)),u.createElement("div",{className:_(v.indicator,"apply-common-tooltip"),title:T[n]}))},t.prototype._onTradingService=function(e){this._cancelWaitingTrading(),this._trading=e,e.onBrokerChange.subscribe(this,this._update),e.onConnectionStatusChange.subscribe(this,this._update),this._update()},t.prototype._update=function(){var e=this._trading,t=e&&e.activeBroker(),n=e?e.connectStatus():3;window.is_authenticated&&!g.a.enabled("trading_terminal")&&e&&t&&1===n?this.setState({status:n,hasActiveBroker:!0,title:t.accountManagerInfo().accountTitle}):this.setState({status:n,hasActiveBroker:!1,title:w})},t.prototype._cancelWaitingTrading=function(){null!==this._tradingServiceCancelable&&(this._tradingServiceCancelable.cancel(),this._tradingServiceCancelable=null)},t}(u.PureComponent),f=n("ogJP");function k(){var e={paper_trading:{ctor:l,customTitleComponent:S}};return Object(f.merge)(Object(f.clone)(o),e)}n.d(t,"getTerminalConfigSet",(function(){return k}))}}]);